{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getContext = getContext;\n  exports.blobToBase64String = blobToBase64String;\n  exports.loadImageAsync = loadImageAsync;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  function getContext(canvas) {\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw new _expoModulesCore.CodedError('ERR_IMAGE_MANIPULATOR', 'Failed to create canvas context');\n    }\n    return ctx;\n  }\n  async function blobToBase64String(blob) {\n    const dataURL = await new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.onerror = () => reject(new Error(`Unable to convert blob to base64 string: ${reader.error}`));\n      reader.readAsDataURL(blob);\n    });\n    return dataURL.replace(/^data:image\\/\\w+;base64,/, '');\n  }\n  function loadImageAsync(uri) {\n    return new Promise((resolve, reject) => {\n      const imageSource = new Image();\n      imageSource.crossOrigin = 'anonymous';\n      const canvas = document.createElement('canvas');\n      imageSource.onload = () => {\n        canvas.width = imageSource.naturalWidth;\n        canvas.height = imageSource.naturalHeight;\n        const context = getContext(canvas);\n        context.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n        resolve(canvas);\n      };\n      imageSource.onerror = () => reject(canvas);\n      imageSource.src = uri;\n    });\n  }\n});","lineCount":43,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"getContext"],[7,20,3,0],[7,23,3,0,"getContext"],[7,33,3,0],[8,2,11,0,"exports"],[8,9,11,0],[8,10,11,0,"blobToBase64String"],[8,28,11,0],[8,31,11,0,"blobToBase64String"],[8,49,11,0],[9,2,22,0,"exports"],[9,9,22,0],[9,10,22,0,"loadImageAsync"],[9,24,22,0],[9,27,22,0,"loadImageAsync"],[9,41,22,0],[10,2,1,0],[10,6,1,0,"_expoModulesCore"],[10,22,1,0],[10,25,1,0,"require"],[10,32,1,0],[10,33,1,0,"_dependencyMap"],[10,47,1,0],[11,2,3,7],[11,11,3,16,"getContext"],[11,21,3,26,"getContext"],[11,22,3,27,"canvas"],[11,28,3,52],[11,30,3,80],[12,4,4,2],[12,10,4,8,"ctx"],[12,13,4,11],[12,16,4,14,"canvas"],[12,22,4,20],[12,23,4,21,"getContext"],[12,33,4,31],[12,34,4,32],[12,38,4,36],[12,39,4,37],[13,4,5,2],[13,8,5,6],[13,9,5,7,"ctx"],[13,12,5,10],[13,14,5,12],[14,6,6,4],[14,12,6,10],[14,16,6,14,"CodedError"],[14,32,6,24],[14,33,6,24,"CodedError"],[14,43,6,24],[14,44,6,25],[14,67,6,48],[14,69,6,50],[14,102,6,83],[14,103,6,84],[15,4,7,2],[16,4,8,2],[16,11,8,9,"ctx"],[16,14,8,12],[17,2,9,0],[18,2,11,7],[18,17,11,22,"blobToBase64String"],[18,35,11,40,"blobToBase64String"],[18,36,11,41,"blob"],[18,40,11,51],[18,42,11,70],[19,4,12,2],[19,10,12,8,"dataURL"],[19,17,12,15],[19,20,12,18],[19,26,12,24],[19,30,12,28,"Promise"],[19,37,12,35],[19,38,12,44],[19,39,12,45,"resolve"],[19,46,12,52],[19,48,12,54,"reject"],[19,54,12,60],[19,59,12,65],[20,6,13,4],[20,12,13,10,"reader"],[20,18,13,16],[20,21,13,19],[20,25,13,23,"FileReader"],[20,35,13,33],[20,36,13,34],[20,37,13,35],[21,6,14,4,"reader"],[21,12,14,10],[21,13,14,11,"onloadend"],[21,22,14,20],[21,25,14,23],[21,31,14,29,"resolve"],[21,38,14,36],[21,39,14,37,"reader"],[21,45,14,43],[21,46,14,44,"result"],[21,52,14,60],[21,53,14,61],[22,6,15,4,"reader"],[22,12,15,10],[22,13,15,11,"onerror"],[22,20,15,18],[22,23,15,21],[22,29,16,6,"reject"],[22,35,16,12],[22,36,16,13],[22,40,16,17,"Error"],[22,45,16,22],[22,46,16,23],[22,90,16,67,"reader"],[22,96,16,73],[22,97,16,74,"error"],[22,102,16,79],[22,104,16,81],[22,105,16,82],[22,106,16,83],[23,6,17,4,"reader"],[23,12,17,10],[23,13,17,11,"readAsDataURL"],[23,26,17,24],[23,27,17,25,"blob"],[23,31,17,29],[23,32,17,30],[24,4,18,2],[24,5,18,3],[24,6,18,4],[25,4,19,2],[25,11,19,9,"dataURL"],[25,18,19,16],[25,19,19,17,"replace"],[25,26,19,24],[25,27,19,25],[25,53,19,51],[25,55,19,53],[25,57,19,55],[25,58,19,56],[26,2,20,0],[27,2,22,7],[27,11,22,16,"loadImageAsync"],[27,25,22,30,"loadImageAsync"],[27,26,22,31,"uri"],[27,29,22,42],[27,31,22,72],[28,4,23,2],[28,11,23,9],[28,15,23,13,"Promise"],[28,22,23,20],[28,23,23,21],[28,24,23,22,"resolve"],[28,31,23,29],[28,33,23,31,"reject"],[28,39,23,37],[28,44,23,42],[29,6,24,4],[29,12,24,10,"imageSource"],[29,23,24,21],[29,26,24,24],[29,30,24,28,"Image"],[29,35,24,33],[29,36,24,34],[29,37,24,35],[30,6,25,4,"imageSource"],[30,17,25,15],[30,18,25,16,"crossOrigin"],[30,29,25,27],[30,32,25,30],[30,43,25,41],[31,6,26,4],[31,12,26,10,"canvas"],[31,18,26,16],[31,21,26,19,"document"],[31,29,26,27],[31,30,26,28,"createElement"],[31,43,26,41],[31,44,26,42],[31,52,26,50],[31,53,26,51],[32,6,27,4,"imageSource"],[32,17,27,15],[32,18,27,16,"onload"],[32,24,27,22],[32,27,27,25],[32,33,27,31],[33,8,28,6,"canvas"],[33,14,28,12],[33,15,28,13,"width"],[33,20,28,18],[33,23,28,21,"imageSource"],[33,34,28,32],[33,35,28,33,"naturalWidth"],[33,47,28,45],[34,8,29,6,"canvas"],[34,14,29,12],[34,15,29,13,"height"],[34,21,29,19],[34,24,29,22,"imageSource"],[34,35,29,33],[34,36,29,34,"naturalHeight"],[34,49,29,47],[35,8,31,6],[35,14,31,12,"context"],[35,21,31,19],[35,24,31,22,"getContext"],[35,34,31,32],[35,35,31,33,"canvas"],[35,41,31,39],[35,42,31,40],[36,8,32,6,"context"],[36,15,32,13],[36,16,32,14,"drawImage"],[36,25,32,23],[36,26,32,24,"imageSource"],[36,37,32,35],[36,39,32,37],[36,40,32,38],[36,42,32,40],[36,43,32,41],[36,45,32,43,"imageSource"],[36,56,32,54],[36,57,32,55,"naturalWidth"],[36,69,32,67],[36,71,32,69,"imageSource"],[36,82,32,80],[36,83,32,81,"naturalHeight"],[36,96,32,94],[36,97,32,95],[37,8,34,6,"resolve"],[37,15,34,13],[37,16,34,14,"canvas"],[37,22,34,20],[37,23,34,21],[38,6,35,4],[38,7,35,5],[39,6,36,4,"imageSource"],[39,17,36,15],[39,18,36,16,"onerror"],[39,25,36,23],[39,28,36,26],[39,34,36,32,"reject"],[39,40,36,38],[39,41,36,39,"canvas"],[39,47,36,45],[39,48,36,46],[40,6,37,4,"imageSource"],[40,17,37,15],[40,18,37,16,"src"],[40,21,37,19],[40,24,37,22,"uri"],[40,27,37,25],[41,4,38,2],[41,5,38,3],[41,6,38,4],[42,2,39,0],[43,0,39,1],[43,3]],"functionMap":{"names":["<global>","getContext","blobToBase64String","Promise$argument_0","reader.onloadend","reader.onerror","loadImageAsync","imageSource.onload","imageSource.onerror"],"mappings":"AAA;OCE;CDM;OEE;4CCC;uBCE,sCD;qBEC;mFFC;GDE;CFE;OME;qBHC;yBII;KJQ;0BKC,oBL;GGE;CNC"},"hasCjsExports":false},"type":"js/module"}]}