{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  class Serializer {\n    constructor(allowedMetadataKeys) {\n      this.HEADER_LENGTH = 1;\n      this.USER_BROADCAST_PUSH_META_LENGTH = 6;\n      this.KINDS = {\n        userBroadcastPush: 3,\n        userBroadcast: 4\n      };\n      this.BINARY_ENCODING = 0;\n      this.JSON_ENCODING = 1;\n      this.BROADCAST_EVENT = 'broadcast';\n      this.allowedMetadataKeys = [];\n      this.allowedMetadataKeys = allowedMetadataKeys !== null && allowedMetadataKeys !== void 0 ? allowedMetadataKeys : [];\n    }\n    encode(msg, callback) {\n      if (msg.event === this.BROADCAST_EVENT && !(msg.payload instanceof ArrayBuffer) && typeof msg.payload.event === 'string') {\n        return callback(this._binaryEncodeUserBroadcastPush(msg));\n      }\n      let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload];\n      return callback(JSON.stringify(payload));\n    }\n    _binaryEncodeUserBroadcastPush(message) {\n      var _a;\n      if (this._isArrayBuffer((_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload)) {\n        return this._encodeBinaryUserBroadcastPush(message);\n      } else {\n        return this._encodeJsonUserBroadcastPush(message);\n      }\n    }\n    _encodeBinaryUserBroadcastPush(message) {\n      var _a, _b;\n      const userPayload = (_b = (_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload) !== null && _b !== void 0 ? _b : new ArrayBuffer(0);\n      return this._encodeUserBroadcastPush(message, this.BINARY_ENCODING, userPayload);\n    }\n    _encodeJsonUserBroadcastPush(message) {\n      var _a, _b;\n      const userPayload = (_b = (_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload) !== null && _b !== void 0 ? _b : {};\n      const encoder = new TextEncoder();\n      const encodedUserPayload = encoder.encode(JSON.stringify(userPayload)).buffer;\n      return this._encodeUserBroadcastPush(message, this.JSON_ENCODING, encodedUserPayload);\n    }\n    _encodeUserBroadcastPush(message, encodingType, encodedPayload) {\n      var _a, _b;\n      const topic = message.topic;\n      const ref = (_a = message.ref) !== null && _a !== void 0 ? _a : '';\n      const joinRef = (_b = message.join_ref) !== null && _b !== void 0 ? _b : '';\n      const userEvent = message.payload.event;\n      // Filter metadata based on allowed keys\n      const rest = this.allowedMetadataKeys ? this._pick(message.payload, this.allowedMetadataKeys) : {};\n      const metadata = Object.keys(rest).length === 0 ? '' : JSON.stringify(rest);\n      // Validate lengths don't exceed uint8 max value (255)\n      if (joinRef.length > 255) {\n        throw new Error(`joinRef length ${joinRef.length} exceeds maximum of 255`);\n      }\n      if (ref.length > 255) {\n        throw new Error(`ref length ${ref.length} exceeds maximum of 255`);\n      }\n      if (topic.length > 255) {\n        throw new Error(`topic length ${topic.length} exceeds maximum of 255`);\n      }\n      if (userEvent.length > 255) {\n        throw new Error(`userEvent length ${userEvent.length} exceeds maximum of 255`);\n      }\n      if (metadata.length > 255) {\n        throw new Error(`metadata length ${metadata.length} exceeds maximum of 255`);\n      }\n      const metaLength = this.USER_BROADCAST_PUSH_META_LENGTH + joinRef.length + ref.length + topic.length + userEvent.length + metadata.length;\n      const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);\n      let view = new DataView(header);\n      let offset = 0;\n      view.setUint8(offset++, this.KINDS.userBroadcastPush); // kind\n      view.setUint8(offset++, joinRef.length);\n      view.setUint8(offset++, ref.length);\n      view.setUint8(offset++, topic.length);\n      view.setUint8(offset++, userEvent.length);\n      view.setUint8(offset++, metadata.length);\n      view.setUint8(offset++, encodingType);\n      Array.from(joinRef, char => view.setUint8(offset++, char.charCodeAt(0)));\n      Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n      Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)));\n      Array.from(userEvent, char => view.setUint8(offset++, char.charCodeAt(0)));\n      Array.from(metadata, char => view.setUint8(offset++, char.charCodeAt(0)));\n      var combined = new Uint8Array(header.byteLength + encodedPayload.byteLength);\n      combined.set(new Uint8Array(header), 0);\n      combined.set(new Uint8Array(encodedPayload), header.byteLength);\n      return combined.buffer;\n    }\n    decode(rawPayload, callback) {\n      if (this._isArrayBuffer(rawPayload)) {\n        let result = this._binaryDecode(rawPayload);\n        return callback(result);\n      }\n      if (typeof rawPayload === 'string') {\n        const jsonPayload = JSON.parse(rawPayload);\n        const [join_ref, ref, topic, event, payload] = jsonPayload;\n        return callback({\n          join_ref,\n          ref,\n          topic,\n          event,\n          payload\n        });\n      }\n      return callback({});\n    }\n    _binaryDecode(buffer) {\n      const view = new DataView(buffer);\n      const kind = view.getUint8(0);\n      const decoder = new TextDecoder();\n      switch (kind) {\n        case this.KINDS.userBroadcast:\n          return this._decodeUserBroadcast(buffer, view, decoder);\n      }\n    }\n    _decodeUserBroadcast(buffer, view, decoder) {\n      const topicSize = view.getUint8(1);\n      const userEventSize = view.getUint8(2);\n      const metadataSize = view.getUint8(3);\n      const payloadEncoding = view.getUint8(4);\n      let offset = this.HEADER_LENGTH + 4;\n      const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n      offset = offset + topicSize;\n      const userEvent = decoder.decode(buffer.slice(offset, offset + userEventSize));\n      offset = offset + userEventSize;\n      const metadata = decoder.decode(buffer.slice(offset, offset + metadataSize));\n      offset = offset + metadataSize;\n      const payload = buffer.slice(offset, buffer.byteLength);\n      const parsedPayload = payloadEncoding === this.JSON_ENCODING ? JSON.parse(decoder.decode(payload)) : payload;\n      const data = {\n        type: this.BROADCAST_EVENT,\n        event: userEvent,\n        payload: parsedPayload\n      };\n      // Metadata is optional and always JSON encoded\n      if (metadataSize > 0) {\n        data['meta'] = JSON.parse(metadata);\n      }\n      return {\n        join_ref: null,\n        ref: null,\n        topic: topic,\n        event: this.BROADCAST_EVENT,\n        payload: data\n      };\n    }\n    _isArrayBuffer(buffer) {\n      var _a;\n      return buffer instanceof ArrayBuffer || ((_a = buffer === null || buffer === void 0 ? void 0 : buffer.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'ArrayBuffer';\n    }\n    _pick(obj, keys) {\n      if (!obj || typeof obj !== 'object') {\n        return {};\n      }\n      return Object.fromEntries(Object.entries(obj).filter(([key]) => keys.includes(key)));\n    }\n  }\n  exports.default = Serializer;\n});","lineCount":164,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0],[7,8,3,6,"Serializer"],[7,18,3,16],[7,19,3,17],[8,4,4,4,"constructor"],[8,15,4,15,"constructor"],[8,16,4,16,"allowedMetadataKeys"],[8,35,4,35],[8,37,4,37],[9,6,5,8],[9,10,5,12],[9,11,5,13,"HEADER_LENGTH"],[9,24,5,26],[9,27,5,29],[9,28,5,30],[10,6,6,8],[10,10,6,12],[10,11,6,13,"USER_BROADCAST_PUSH_META_LENGTH"],[10,42,6,44],[10,45,6,47],[10,46,6,48],[11,6,7,8],[11,10,7,12],[11,11,7,13,"KINDS"],[11,16,7,18],[11,19,7,21],[12,8,7,23,"userBroadcastPush"],[12,25,7,40],[12,27,7,42],[12,28,7,43],[13,8,7,45,"userBroadcast"],[13,21,7,58],[13,23,7,60],[14,6,7,62],[14,7,7,63],[15,6,8,8],[15,10,8,12],[15,11,8,13,"BINARY_ENCODING"],[15,26,8,28],[15,29,8,31],[15,30,8,32],[16,6,9,8],[16,10,9,12],[16,11,9,13,"JSON_ENCODING"],[16,24,9,26],[16,27,9,29],[16,28,9,30],[17,6,10,8],[17,10,10,12],[17,11,10,13,"BROADCAST_EVENT"],[17,26,10,28],[17,29,10,31],[17,40,10,42],[18,6,11,8],[18,10,11,12],[18,11,11,13,"allowedMetadataKeys"],[18,30,11,32],[18,33,11,35],[18,35,11,37],[19,6,12,8],[19,10,12,12],[19,11,12,13,"allowedMetadataKeys"],[19,30,12,32],[19,33,12,35,"allowedMetadataKeys"],[19,52,12,54],[19,57,12,59],[19,61,12,63],[19,65,12,67,"allowedMetadataKeys"],[19,84,12,86],[19,89,12,91],[19,94,12,96],[19,95,12,97],[19,98,12,100,"allowedMetadataKeys"],[19,117,12,119],[19,120,12,122],[19,122,12,124],[20,4,13,4],[21,4,14,4,"encode"],[21,10,14,10,"encode"],[21,11,14,11,"msg"],[21,14,14,14],[21,16,14,16,"callback"],[21,24,14,24],[21,26,14,26],[22,6,15,8],[22,10,15,12,"msg"],[22,13,15,15],[22,14,15,16,"event"],[22,19,15,21],[22,24,15,26],[22,28,15,30],[22,29,15,31,"BROADCAST_EVENT"],[22,44,15,46],[22,48,16,12],[22,50,16,14,"msg"],[22,53,16,17],[22,54,16,18,"payload"],[22,61,16,25],[22,73,16,37,"ArrayBuffer"],[22,84,16,48],[22,85,16,49],[22,89,17,12],[22,96,17,19,"msg"],[22,99,17,22],[22,100,17,23,"payload"],[22,107,17,30],[22,108,17,31,"event"],[22,113,17,36],[22,118,17,41],[22,126,17,49],[22,128,17,51],[23,8,18,12],[23,15,18,19,"callback"],[23,23,18,27],[23,24,18,28],[23,28,18,32],[23,29,18,33,"_binaryEncodeUserBroadcastPush"],[23,59,18,63],[23,60,18,64,"msg"],[23,63,18,67],[23,64,18,68],[23,65,18,69],[24,6,19,8],[25,6,20,8],[25,10,20,12,"payload"],[25,17,20,19],[25,20,20,22],[25,21,20,23,"msg"],[25,24,20,26],[25,25,20,27,"join_ref"],[25,33,20,35],[25,35,20,37,"msg"],[25,38,20,40],[25,39,20,41,"ref"],[25,42,20,44],[25,44,20,46,"msg"],[25,47,20,49],[25,48,20,50,"topic"],[25,53,20,55],[25,55,20,57,"msg"],[25,58,20,60],[25,59,20,61,"event"],[25,64,20,66],[25,66,20,68,"msg"],[25,69,20,71],[25,70,20,72,"payload"],[25,77,20,79],[25,78,20,80],[26,6,21,8],[26,13,21,15,"callback"],[26,21,21,23],[26,22,21,24,"JSON"],[26,26,21,28],[26,27,21,29,"stringify"],[26,36,21,38],[26,37,21,39,"payload"],[26,44,21,46],[26,45,21,47],[26,46,21,48],[27,4,22,4],[28,4,23,4,"_binaryEncodeUserBroadcastPush"],[28,34,23,34,"_binaryEncodeUserBroadcastPush"],[28,35,23,35,"message"],[28,42,23,42],[28,44,23,44],[29,6,24,8],[29,10,24,12,"_a"],[29,12,24,14],[30,6,25,8],[30,10,25,12],[30,14,25,16],[30,15,25,17,"_isArrayBuffer"],[30,29,25,31],[30,30,25,32],[30,31,25,33,"_a"],[30,33,25,35],[30,36,25,38,"message"],[30,43,25,45],[30,44,25,46,"payload"],[30,51,25,53],[30,57,25,59],[30,61,25,63],[30,65,25,67,"_a"],[30,67,25,69],[30,72,25,74],[30,77,25,79],[30,78,25,80],[30,81,25,83],[30,86,25,88],[30,87,25,89],[30,90,25,92,"_a"],[30,92,25,94],[30,93,25,95,"payload"],[30,100,25,102],[30,101,25,103],[30,103,25,105],[31,8,26,12],[31,15,26,19],[31,19,26,23],[31,20,26,24,"_encodeBinaryUserBroadcastPush"],[31,50,26,54],[31,51,26,55,"message"],[31,58,26,62],[31,59,26,63],[32,6,27,8],[32,7,27,9],[32,13,28,13],[33,8,29,12],[33,15,29,19],[33,19,29,23],[33,20,29,24,"_encodeJsonUserBroadcastPush"],[33,48,29,52],[33,49,29,53,"message"],[33,56,29,60],[33,57,29,61],[34,6,30,8],[35,4,31,4],[36,4,32,4,"_encodeBinaryUserBroadcastPush"],[36,34,32,34,"_encodeBinaryUserBroadcastPush"],[36,35,32,35,"message"],[36,42,32,42],[36,44,32,44],[37,6,33,8],[37,10,33,12,"_a"],[37,12,33,14],[37,14,33,16,"_b"],[37,16,33,18],[38,6,34,8],[38,12,34,14,"userPayload"],[38,23,34,25],[38,26,34,28],[38,27,34,29,"_b"],[38,29,34,31],[38,32,34,34],[38,33,34,35,"_a"],[38,35,34,37],[38,38,34,40,"message"],[38,45,34,47],[38,46,34,48,"payload"],[38,53,34,55],[38,59,34,61],[38,63,34,65],[38,67,34,69,"_a"],[38,69,34,71],[38,74,34,76],[38,79,34,81],[38,80,34,82],[38,83,34,85],[38,88,34,90],[38,89,34,91],[38,92,34,94,"_a"],[38,94,34,96],[38,95,34,97,"payload"],[38,102,34,104],[38,108,34,110],[38,112,34,114],[38,116,34,118,"_b"],[38,118,34,120],[38,123,34,125],[38,128,34,130],[38,129,34,131],[38,132,34,134,"_b"],[38,134,34,136],[38,137,34,139],[38,141,34,143,"ArrayBuffer"],[38,152,34,154],[38,153,34,155],[38,154,34,156],[38,155,34,157],[39,6,35,8],[39,13,35,15],[39,17,35,19],[39,18,35,20,"_encodeUserBroadcastPush"],[39,42,35,44],[39,43,35,45,"message"],[39,50,35,52],[39,52,35,54],[39,56,35,58],[39,57,35,59,"BINARY_ENCODING"],[39,72,35,74],[39,74,35,76,"userPayload"],[39,85,35,87],[39,86,35,88],[40,4,36,4],[41,4,37,4,"_encodeJsonUserBroadcastPush"],[41,32,37,32,"_encodeJsonUserBroadcastPush"],[41,33,37,33,"message"],[41,40,37,40],[41,42,37,42],[42,6,38,8],[42,10,38,12,"_a"],[42,12,38,14],[42,14,38,16,"_b"],[42,16,38,18],[43,6,39,8],[43,12,39,14,"userPayload"],[43,23,39,25],[43,26,39,28],[43,27,39,29,"_b"],[43,29,39,31],[43,32,39,34],[43,33,39,35,"_a"],[43,35,39,37],[43,38,39,40,"message"],[43,45,39,47],[43,46,39,48,"payload"],[43,53,39,55],[43,59,39,61],[43,63,39,65],[43,67,39,69,"_a"],[43,69,39,71],[43,74,39,76],[43,79,39,81],[43,80,39,82],[43,83,39,85],[43,88,39,90],[43,89,39,91],[43,92,39,94,"_a"],[43,94,39,96],[43,95,39,97,"payload"],[43,102,39,104],[43,108,39,110],[43,112,39,114],[43,116,39,118,"_b"],[43,118,39,120],[43,123,39,125],[43,128,39,130],[43,129,39,131],[43,132,39,134,"_b"],[43,134,39,136],[43,137,39,139],[43,138,39,140],[43,139,39,141],[44,6,40,8],[44,12,40,14,"encoder"],[44,19,40,21],[44,22,40,24],[44,26,40,28,"TextEncoder"],[44,37,40,39],[44,38,40,40],[44,39,40,41],[45,6,41,8],[45,12,41,14,"encodedUserPayload"],[45,30,41,32],[45,33,41,35,"encoder"],[45,40,41,42],[45,41,41,43,"encode"],[45,47,41,49],[45,48,41,50,"JSON"],[45,52,41,54],[45,53,41,55,"stringify"],[45,62,41,64],[45,63,41,65,"userPayload"],[45,74,41,76],[45,75,41,77],[45,76,41,78],[45,77,41,79,"buffer"],[45,83,41,85],[46,6,42,8],[46,13,42,15],[46,17,42,19],[46,18,42,20,"_encodeUserBroadcastPush"],[46,42,42,44],[46,43,42,45,"message"],[46,50,42,52],[46,52,42,54],[46,56,42,58],[46,57,42,59,"JSON_ENCODING"],[46,70,42,72],[46,72,42,74,"encodedUserPayload"],[46,90,42,92],[46,91,42,93],[47,4,43,4],[48,4,44,4,"_encodeUserBroadcastPush"],[48,28,44,28,"_encodeUserBroadcastPush"],[48,29,44,29,"message"],[48,36,44,36],[48,38,44,38,"encodingType"],[48,50,44,50],[48,52,44,52,"encodedPayload"],[48,66,44,66],[48,68,44,68],[49,6,45,8],[49,10,45,12,"_a"],[49,12,45,14],[49,14,45,16,"_b"],[49,16,45,18],[50,6,46,8],[50,12,46,14,"topic"],[50,17,46,19],[50,20,46,22,"message"],[50,27,46,29],[50,28,46,30,"topic"],[50,33,46,35],[51,6,47,8],[51,12,47,14,"ref"],[51,15,47,17],[51,18,47,20],[51,19,47,21,"_a"],[51,21,47,23],[51,24,47,26,"message"],[51,31,47,33],[51,32,47,34,"ref"],[51,35,47,37],[51,41,47,43],[51,45,47,47],[51,49,47,51,"_a"],[51,51,47,53],[51,56,47,58],[51,61,47,63],[51,62,47,64],[51,65,47,67,"_a"],[51,67,47,69],[51,70,47,72],[51,72,47,74],[52,6,48,8],[52,12,48,14,"joinRef"],[52,19,48,21],[52,22,48,24],[52,23,48,25,"_b"],[52,25,48,27],[52,28,48,30,"message"],[52,35,48,37],[52,36,48,38,"join_ref"],[52,44,48,46],[52,50,48,52],[52,54,48,56],[52,58,48,60,"_b"],[52,60,48,62],[52,65,48,67],[52,70,48,72],[52,71,48,73],[52,74,48,76,"_b"],[52,76,48,78],[52,79,48,81],[52,81,48,83],[53,6,49,8],[53,12,49,14,"userEvent"],[53,21,49,23],[53,24,49,26,"message"],[53,31,49,33],[53,32,49,34,"payload"],[53,39,49,41],[53,40,49,42,"event"],[53,45,49,47],[54,6,50,8],[55,6,51,8],[55,12,51,14,"rest"],[55,16,51,18],[55,19,51,21],[55,23,51,25],[55,24,51,26,"allowedMetadataKeys"],[55,43,51,45],[55,46,52,14],[55,50,52,18],[55,51,52,19,"_pick"],[55,56,52,24],[55,57,52,25,"message"],[55,64,52,32],[55,65,52,33,"payload"],[55,72,52,40],[55,74,52,42],[55,78,52,46],[55,79,52,47,"allowedMetadataKeys"],[55,98,52,66],[55,99,52,67],[55,102,53,14],[55,103,53,15],[55,104,53,16],[56,6,54,8],[56,12,54,14,"metadata"],[56,20,54,22],[56,23,54,25,"Object"],[56,29,54,31],[56,30,54,32,"keys"],[56,34,54,36],[56,35,54,37,"rest"],[56,39,54,41],[56,40,54,42],[56,41,54,43,"length"],[56,47,54,49],[56,52,54,54],[56,53,54,55],[56,56,54,58],[56,58,54,60],[56,61,54,63,"JSON"],[56,65,54,67],[56,66,54,68,"stringify"],[56,75,54,77],[56,76,54,78,"rest"],[56,80,54,82],[56,81,54,83],[57,6,55,8],[58,6,56,8],[58,10,56,12,"joinRef"],[58,17,56,19],[58,18,56,20,"length"],[58,24,56,26],[58,27,56,29],[58,30,56,32],[58,32,56,34],[59,8,57,12],[59,14,57,18],[59,18,57,22,"Error"],[59,23,57,27],[59,24,57,28],[59,42,57,46,"joinRef"],[59,49,57,53],[59,50,57,54,"length"],[59,56,57,60],[59,81,57,85],[59,82,57,86],[60,6,58,8],[61,6,59,8],[61,10,59,12,"ref"],[61,13,59,15],[61,14,59,16,"length"],[61,20,59,22],[61,23,59,25],[61,26,59,28],[61,28,59,30],[62,8,60,12],[62,14,60,18],[62,18,60,22,"Error"],[62,23,60,27],[62,24,60,28],[62,38,60,42,"ref"],[62,41,60,45],[62,42,60,46,"length"],[62,48,60,52],[62,73,60,77],[62,74,60,78],[63,6,61,8],[64,6,62,8],[64,10,62,12,"topic"],[64,15,62,17],[64,16,62,18,"length"],[64,22,62,24],[64,25,62,27],[64,28,62,30],[64,30,62,32],[65,8,63,12],[65,14,63,18],[65,18,63,22,"Error"],[65,23,63,27],[65,24,63,28],[65,40,63,44,"topic"],[65,45,63,49],[65,46,63,50,"length"],[65,52,63,56],[65,77,63,81],[65,78,63,82],[66,6,64,8],[67,6,65,8],[67,10,65,12,"userEvent"],[67,19,65,21],[67,20,65,22,"length"],[67,26,65,28],[67,29,65,31],[67,32,65,34],[67,34,65,36],[68,8,66,12],[68,14,66,18],[68,18,66,22,"Error"],[68,23,66,27],[68,24,66,28],[68,44,66,48,"userEvent"],[68,53,66,57],[68,54,66,58,"length"],[68,60,66,64],[68,85,66,89],[68,86,66,90],[69,6,67,8],[70,6,68,8],[70,10,68,12,"metadata"],[70,18,68,20],[70,19,68,21,"length"],[70,25,68,27],[70,28,68,30],[70,31,68,33],[70,33,68,35],[71,8,69,12],[71,14,69,18],[71,18,69,22,"Error"],[71,23,69,27],[71,24,69,28],[71,43,69,47,"metadata"],[71,51,69,55],[71,52,69,56,"length"],[71,58,69,62],[71,83,69,87],[71,84,69,88],[72,6,70,8],[73,6,71,8],[73,12,71,14,"metaLength"],[73,22,71,24],[73,25,71,27],[73,29,71,31],[73,30,71,32,"USER_BROADCAST_PUSH_META_LENGTH"],[73,61,71,63],[73,64,72,12,"joinRef"],[73,71,72,19],[73,72,72,20,"length"],[73,78,72,26],[73,81,73,12,"ref"],[73,84,73,15],[73,85,73,16,"length"],[73,91,73,22],[73,94,74,12,"topic"],[73,99,74,17],[73,100,74,18,"length"],[73,106,74,24],[73,109,75,12,"userEvent"],[73,118,75,21],[73,119,75,22,"length"],[73,125,75,28],[73,128,76,12,"metadata"],[73,136,76,20],[73,137,76,21,"length"],[73,143,76,27],[74,6,77,8],[74,12,77,14,"header"],[74,18,77,20],[74,21,77,23],[74,25,77,27,"ArrayBuffer"],[74,36,77,38],[74,37,77,39],[74,41,77,43],[74,42,77,44,"HEADER_LENGTH"],[74,55,77,57],[74,58,77,60,"metaLength"],[74,68,77,70],[74,69,77,71],[75,6,78,8],[75,10,78,12,"view"],[75,14,78,16],[75,17,78,19],[75,21,78,23,"DataView"],[75,29,78,31],[75,30,78,32,"header"],[75,36,78,38],[75,37,78,39],[76,6,79,8],[76,10,79,12,"offset"],[76,16,79,18],[76,19,79,21],[76,20,79,22],[77,6,80,8,"view"],[77,10,80,12],[77,11,80,13,"setUint8"],[77,19,80,21],[77,20,80,22,"offset"],[77,26,80,28],[77,28,80,30],[77,30,80,32],[77,34,80,36],[77,35,80,37,"KINDS"],[77,40,80,42],[77,41,80,43,"userBroadcastPush"],[77,58,80,60],[77,59,80,61],[77,60,80,62],[77,61,80,63],[78,6,81,8,"view"],[78,10,81,12],[78,11,81,13,"setUint8"],[78,19,81,21],[78,20,81,22,"offset"],[78,26,81,28],[78,28,81,30],[78,30,81,32,"joinRef"],[78,37,81,39],[78,38,81,40,"length"],[78,44,81,46],[78,45,81,47],[79,6,82,8,"view"],[79,10,82,12],[79,11,82,13,"setUint8"],[79,19,82,21],[79,20,82,22,"offset"],[79,26,82,28],[79,28,82,30],[79,30,82,32,"ref"],[79,33,82,35],[79,34,82,36,"length"],[79,40,82,42],[79,41,82,43],[80,6,83,8,"view"],[80,10,83,12],[80,11,83,13,"setUint8"],[80,19,83,21],[80,20,83,22,"offset"],[80,26,83,28],[80,28,83,30],[80,30,83,32,"topic"],[80,35,83,37],[80,36,83,38,"length"],[80,42,83,44],[80,43,83,45],[81,6,84,8,"view"],[81,10,84,12],[81,11,84,13,"setUint8"],[81,19,84,21],[81,20,84,22,"offset"],[81,26,84,28],[81,28,84,30],[81,30,84,32,"userEvent"],[81,39,84,41],[81,40,84,42,"length"],[81,46,84,48],[81,47,84,49],[82,6,85,8,"view"],[82,10,85,12],[82,11,85,13,"setUint8"],[82,19,85,21],[82,20,85,22,"offset"],[82,26,85,28],[82,28,85,30],[82,30,85,32,"metadata"],[82,38,85,40],[82,39,85,41,"length"],[82,45,85,47],[82,46,85,48],[83,6,86,8,"view"],[83,10,86,12],[83,11,86,13,"setUint8"],[83,19,86,21],[83,20,86,22,"offset"],[83,26,86,28],[83,28,86,30],[83,30,86,32,"encodingType"],[83,42,86,44],[83,43,86,45],[84,6,87,8,"Array"],[84,11,87,13],[84,12,87,14,"from"],[84,16,87,18],[84,17,87,19,"joinRef"],[84,24,87,26],[84,26,87,29,"char"],[84,30,87,33],[84,34,87,38,"view"],[84,38,87,42],[84,39,87,43,"setUint8"],[84,47,87,51],[84,48,87,52,"offset"],[84,54,87,58],[84,56,87,60],[84,58,87,62,"char"],[84,62,87,66],[84,63,87,67,"charCodeAt"],[84,73,87,77],[84,74,87,78],[84,75,87,79],[84,76,87,80],[84,77,87,81],[84,78,87,82],[85,6,88,8,"Array"],[85,11,88,13],[85,12,88,14,"from"],[85,16,88,18],[85,17,88,19,"ref"],[85,20,88,22],[85,22,88,25,"char"],[85,26,88,29],[85,30,88,34,"view"],[85,34,88,38],[85,35,88,39,"setUint8"],[85,43,88,47],[85,44,88,48,"offset"],[85,50,88,54],[85,52,88,56],[85,54,88,58,"char"],[85,58,88,62],[85,59,88,63,"charCodeAt"],[85,69,88,73],[85,70,88,74],[85,71,88,75],[85,72,88,76],[85,73,88,77],[85,74,88,78],[86,6,89,8,"Array"],[86,11,89,13],[86,12,89,14,"from"],[86,16,89,18],[86,17,89,19,"topic"],[86,22,89,24],[86,24,89,27,"char"],[86,28,89,31],[86,32,89,36,"view"],[86,36,89,40],[86,37,89,41,"setUint8"],[86,45,89,49],[86,46,89,50,"offset"],[86,52,89,56],[86,54,89,58],[86,56,89,60,"char"],[86,60,89,64],[86,61,89,65,"charCodeAt"],[86,71,89,75],[86,72,89,76],[86,73,89,77],[86,74,89,78],[86,75,89,79],[86,76,89,80],[87,6,90,8,"Array"],[87,11,90,13],[87,12,90,14,"from"],[87,16,90,18],[87,17,90,19,"userEvent"],[87,26,90,28],[87,28,90,31,"char"],[87,32,90,35],[87,36,90,40,"view"],[87,40,90,44],[87,41,90,45,"setUint8"],[87,49,90,53],[87,50,90,54,"offset"],[87,56,90,60],[87,58,90,62],[87,60,90,64,"char"],[87,64,90,68],[87,65,90,69,"charCodeAt"],[87,75,90,79],[87,76,90,80],[87,77,90,81],[87,78,90,82],[87,79,90,83],[87,80,90,84],[88,6,91,8,"Array"],[88,11,91,13],[88,12,91,14,"from"],[88,16,91,18],[88,17,91,19,"metadata"],[88,25,91,27],[88,27,91,30,"char"],[88,31,91,34],[88,35,91,39,"view"],[88,39,91,43],[88,40,91,44,"setUint8"],[88,48,91,52],[88,49,91,53,"offset"],[88,55,91,59],[88,57,91,61],[88,59,91,63,"char"],[88,63,91,67],[88,64,91,68,"charCodeAt"],[88,74,91,78],[88,75,91,79],[88,76,91,80],[88,77,91,81],[88,78,91,82],[88,79,91,83],[89,6,92,8],[89,10,92,12,"combined"],[89,18,92,20],[89,21,92,23],[89,25,92,27,"Uint8Array"],[89,35,92,37],[89,36,92,38,"header"],[89,42,92,44],[89,43,92,45,"byteLength"],[89,53,92,55],[89,56,92,58,"encodedPayload"],[89,70,92,72],[89,71,92,73,"byteLength"],[89,81,92,83],[89,82,92,84],[90,6,93,8,"combined"],[90,14,93,16],[90,15,93,17,"set"],[90,18,93,20],[90,19,93,21],[90,23,93,25,"Uint8Array"],[90,33,93,35],[90,34,93,36,"header"],[90,40,93,42],[90,41,93,43],[90,43,93,45],[90,44,93,46],[90,45,93,47],[91,6,94,8,"combined"],[91,14,94,16],[91,15,94,17,"set"],[91,18,94,20],[91,19,94,21],[91,23,94,25,"Uint8Array"],[91,33,94,35],[91,34,94,36,"encodedPayload"],[91,48,94,50],[91,49,94,51],[91,51,94,53,"header"],[91,57,94,59],[91,58,94,60,"byteLength"],[91,68,94,70],[91,69,94,71],[92,6,95,8],[92,13,95,15,"combined"],[92,21,95,23],[92,22,95,24,"buffer"],[92,28,95,30],[93,4,96,4],[94,4,97,4,"decode"],[94,10,97,10,"decode"],[94,11,97,11,"rawPayload"],[94,21,97,21],[94,23,97,23,"callback"],[94,31,97,31],[94,33,97,33],[95,6,98,8],[95,10,98,12],[95,14,98,16],[95,15,98,17,"_isArrayBuffer"],[95,29,98,31],[95,30,98,32,"rawPayload"],[95,40,98,42],[95,41,98,43],[95,43,98,45],[96,8,99,12],[96,12,99,16,"result"],[96,18,99,22],[96,21,99,25],[96,25,99,29],[96,26,99,30,"_binaryDecode"],[96,39,99,43],[96,40,99,44,"rawPayload"],[96,50,99,54],[96,51,99,55],[97,8,100,12],[97,15,100,19,"callback"],[97,23,100,27],[97,24,100,28,"result"],[97,30,100,34],[97,31,100,35],[98,6,101,8],[99,6,102,8],[99,10,102,12],[99,17,102,19,"rawPayload"],[99,27,102,29],[99,32,102,34],[99,40,102,42],[99,42,102,44],[100,8,103,12],[100,14,103,18,"jsonPayload"],[100,25,103,29],[100,28,103,32,"JSON"],[100,32,103,36],[100,33,103,37,"parse"],[100,38,103,42],[100,39,103,43,"rawPayload"],[100,49,103,53],[100,50,103,54],[101,8,104,12],[101,14,104,18],[101,15,104,19,"join_ref"],[101,23,104,27],[101,25,104,29,"ref"],[101,28,104,32],[101,30,104,34,"topic"],[101,35,104,39],[101,37,104,41,"event"],[101,42,104,46],[101,44,104,48,"payload"],[101,51,104,55],[101,52,104,56],[101,55,104,59,"jsonPayload"],[101,66,104,70],[102,8,105,12],[102,15,105,19,"callback"],[102,23,105,27],[102,24,105,28],[103,10,105,30,"join_ref"],[103,18,105,38],[104,10,105,40,"ref"],[104,13,105,43],[105,10,105,45,"topic"],[105,15,105,50],[106,10,105,52,"event"],[106,15,105,57],[107,10,105,59,"payload"],[108,8,105,67],[108,9,105,68],[108,10,105,69],[109,6,106,8],[110,6,107,8],[110,13,107,15,"callback"],[110,21,107,23],[110,22,107,24],[110,23,107,25],[110,24,107,26],[110,25,107,27],[111,4,108,4],[112,4,109,4,"_binaryDecode"],[112,17,109,17,"_binaryDecode"],[112,18,109,18,"buffer"],[112,24,109,24],[112,26,109,26],[113,6,110,8],[113,12,110,14,"view"],[113,16,110,18],[113,19,110,21],[113,23,110,25,"DataView"],[113,31,110,33],[113,32,110,34,"buffer"],[113,38,110,40],[113,39,110,41],[114,6,111,8],[114,12,111,14,"kind"],[114,16,111,18],[114,19,111,21,"view"],[114,23,111,25],[114,24,111,26,"getUint8"],[114,32,111,34],[114,33,111,35],[114,34,111,36],[114,35,111,37],[115,6,112,8],[115,12,112,14,"decoder"],[115,19,112,21],[115,22,112,24],[115,26,112,28,"TextDecoder"],[115,37,112,39],[115,38,112,40],[115,39,112,41],[116,6,113,8],[116,14,113,16,"kind"],[116,18,113,20],[117,8,114,12],[117,13,114,17],[117,17,114,21],[117,18,114,22,"KINDS"],[117,23,114,27],[117,24,114,28,"userBroadcast"],[117,37,114,41],[118,10,115,16],[118,17,115,23],[118,21,115,27],[118,22,115,28,"_decodeUserBroadcast"],[118,42,115,48],[118,43,115,49,"buffer"],[118,49,115,55],[118,51,115,57,"view"],[118,55,115,61],[118,57,115,63,"decoder"],[118,64,115,70],[118,65,115,71],[119,6,116,8],[120,4,117,4],[121,4,118,4,"_decodeUserBroadcast"],[121,24,118,24,"_decodeUserBroadcast"],[121,25,118,25,"buffer"],[121,31,118,31],[121,33,118,33,"view"],[121,37,118,37],[121,39,118,39,"decoder"],[121,46,118,46],[121,48,118,48],[122,6,119,8],[122,12,119,14,"topicSize"],[122,21,119,23],[122,24,119,26,"view"],[122,28,119,30],[122,29,119,31,"getUint8"],[122,37,119,39],[122,38,119,40],[122,39,119,41],[122,40,119,42],[123,6,120,8],[123,12,120,14,"userEventSize"],[123,25,120,27],[123,28,120,30,"view"],[123,32,120,34],[123,33,120,35,"getUint8"],[123,41,120,43],[123,42,120,44],[123,43,120,45],[123,44,120,46],[124,6,121,8],[124,12,121,14,"metadataSize"],[124,24,121,26],[124,27,121,29,"view"],[124,31,121,33],[124,32,121,34,"getUint8"],[124,40,121,42],[124,41,121,43],[124,42,121,44],[124,43,121,45],[125,6,122,8],[125,12,122,14,"payloadEncoding"],[125,27,122,29],[125,30,122,32,"view"],[125,34,122,36],[125,35,122,37,"getUint8"],[125,43,122,45],[125,44,122,46],[125,45,122,47],[125,46,122,48],[126,6,123,8],[126,10,123,12,"offset"],[126,16,123,18],[126,19,123,21],[126,23,123,25],[126,24,123,26,"HEADER_LENGTH"],[126,37,123,39],[126,40,123,42],[126,41,123,43],[127,6,124,8],[127,12,124,14,"topic"],[127,17,124,19],[127,20,124,22,"decoder"],[127,27,124,29],[127,28,124,30,"decode"],[127,34,124,36],[127,35,124,37,"buffer"],[127,41,124,43],[127,42,124,44,"slice"],[127,47,124,49],[127,48,124,50,"offset"],[127,54,124,56],[127,56,124,58,"offset"],[127,62,124,64],[127,65,124,67,"topicSize"],[127,74,124,76],[127,75,124,77],[127,76,124,78],[128,6,125,8,"offset"],[128,12,125,14],[128,15,125,17,"offset"],[128,21,125,23],[128,24,125,26,"topicSize"],[128,33,125,35],[129,6,126,8],[129,12,126,14,"userEvent"],[129,21,126,23],[129,24,126,26,"decoder"],[129,31,126,33],[129,32,126,34,"decode"],[129,38,126,40],[129,39,126,41,"buffer"],[129,45,126,47],[129,46,126,48,"slice"],[129,51,126,53],[129,52,126,54,"offset"],[129,58,126,60],[129,60,126,62,"offset"],[129,66,126,68],[129,69,126,71,"userEventSize"],[129,82,126,84],[129,83,126,85],[129,84,126,86],[130,6,127,8,"offset"],[130,12,127,14],[130,15,127,17,"offset"],[130,21,127,23],[130,24,127,26,"userEventSize"],[130,37,127,39],[131,6,128,8],[131,12,128,14,"metadata"],[131,20,128,22],[131,23,128,25,"decoder"],[131,30,128,32],[131,31,128,33,"decode"],[131,37,128,39],[131,38,128,40,"buffer"],[131,44,128,46],[131,45,128,47,"slice"],[131,50,128,52],[131,51,128,53,"offset"],[131,57,128,59],[131,59,128,61,"offset"],[131,65,128,67],[131,68,128,70,"metadataSize"],[131,80,128,82],[131,81,128,83],[131,82,128,84],[132,6,129,8,"offset"],[132,12,129,14],[132,15,129,17,"offset"],[132,21,129,23],[132,24,129,26,"metadataSize"],[132,36,129,38],[133,6,130,8],[133,12,130,14,"payload"],[133,19,130,21],[133,22,130,24,"buffer"],[133,28,130,30],[133,29,130,31,"slice"],[133,34,130,36],[133,35,130,37,"offset"],[133,41,130,43],[133,43,130,45,"buffer"],[133,49,130,51],[133,50,130,52,"byteLength"],[133,60,130,62],[133,61,130,63],[134,6,131,8],[134,12,131,14,"parsedPayload"],[134,25,131,27],[134,28,131,30,"payloadEncoding"],[134,43,131,45],[134,48,131,50],[134,52,131,54],[134,53,131,55,"JSON_ENCODING"],[134,66,131,68],[134,69,131,71,"JSON"],[134,73,131,75],[134,74,131,76,"parse"],[134,79,131,81],[134,80,131,82,"decoder"],[134,87,131,89],[134,88,131,90,"decode"],[134,94,131,96],[134,95,131,97,"payload"],[134,102,131,104],[134,103,131,105],[134,104,131,106],[134,107,131,109,"payload"],[134,114,131,116],[135,6,132,8],[135,12,132,14,"data"],[135,16,132,18],[135,19,132,21],[136,8,133,12,"type"],[136,12,133,16],[136,14,133,18],[136,18,133,22],[136,19,133,23,"BROADCAST_EVENT"],[136,34,133,38],[137,8,134,12,"event"],[137,13,134,17],[137,15,134,19,"userEvent"],[137,24,134,28],[138,8,135,12,"payload"],[138,15,135,19],[138,17,135,21,"parsedPayload"],[139,6,136,8],[139,7,136,9],[140,6,137,8],[141,6,138,8],[141,10,138,12,"metadataSize"],[141,22,138,24],[141,25,138,27],[141,26,138,28],[141,28,138,30],[142,8,139,12,"data"],[142,12,139,16],[142,13,139,17],[142,19,139,23],[142,20,139,24],[142,23,139,27,"JSON"],[142,27,139,31],[142,28,139,32,"parse"],[142,33,139,37],[142,34,139,38,"metadata"],[142,42,139,46],[142,43,139,47],[143,6,140,8],[144,6,141,8],[144,13,141,15],[145,8,141,17,"join_ref"],[145,16,141,25],[145,18,141,27],[145,22,141,31],[146,8,141,33,"ref"],[146,11,141,36],[146,13,141,38],[146,17,141,42],[147,8,141,44,"topic"],[147,13,141,49],[147,15,141,51,"topic"],[147,20,141,56],[148,8,141,58,"event"],[148,13,141,63],[148,15,141,65],[148,19,141,69],[148,20,141,70,"BROADCAST_EVENT"],[148,35,141,85],[149,8,141,87,"payload"],[149,15,141,94],[149,17,141,96,"data"],[150,6,141,101],[150,7,141,102],[151,4,142,4],[152,4,143,4,"_isArrayBuffer"],[152,18,143,18,"_isArrayBuffer"],[152,19,143,19,"buffer"],[152,25,143,25],[152,27,143,27],[153,6,144,8],[153,10,144,12,"_a"],[153,12,144,14],[154,6,145,8],[154,13,145,15,"buffer"],[154,19,145,21],[154,31,145,33,"ArrayBuffer"],[154,42,145,44],[154,46,145,48],[154,47,145,49],[154,48,145,50,"_a"],[154,50,145,52],[154,53,145,55,"buffer"],[154,59,145,61],[154,64,145,66],[154,68,145,70],[154,72,145,74,"buffer"],[154,78,145,80],[154,83,145,85],[154,88,145,90],[154,89,145,91],[154,92,145,94],[154,97,145,99],[154,98,145,100],[154,101,145,103,"buffer"],[154,107,145,109],[154,108,145,110,"constructor"],[154,119,145,121],[154,125,145,127],[154,129,145,131],[154,133,145,135,"_a"],[154,135,145,137],[154,140,145,142],[154,145,145,147],[154,146,145,148],[154,149,145,151],[154,154,145,156],[154,155,145,157],[154,158,145,160,"_a"],[154,160,145,162],[154,161,145,163,"name"],[154,165,145,167],[154,171,145,173],[154,184,145,186],[155,4,146,4],[156,4,147,4,"_pick"],[156,9,147,9,"_pick"],[156,10,147,10,"obj"],[156,13,147,13],[156,15,147,15,"keys"],[156,19,147,19],[156,21,147,21],[157,6,148,8],[157,10,148,12],[157,11,148,13,"obj"],[157,14,148,16],[157,18,148,20],[157,25,148,27,"obj"],[157,28,148,30],[157,33,148,35],[157,41,148,43],[157,43,148,45],[158,8,149,12],[158,15,149,19],[158,16,149,20],[158,17,149,21],[159,6,150,8],[160,6,151,8],[160,13,151,15,"Object"],[160,19,151,21],[160,20,151,22,"fromEntries"],[160,31,151,33],[160,32,151,34,"Object"],[160,38,151,40],[160,39,151,41,"entries"],[160,46,151,48],[160,47,151,49,"obj"],[160,50,151,52],[160,51,151,53],[160,52,151,54,"filter"],[160,58,151,60],[160,59,151,61],[160,60,151,62],[160,61,151,63,"key"],[160,64,151,66],[160,65,151,67],[160,70,151,72,"keys"],[160,74,151,76],[160,75,151,77,"includes"],[160,83,151,85],[160,84,151,86,"key"],[160,87,151,89],[160,88,151,90],[160,89,151,91],[160,90,151,92],[161,4,152,4],[162,2,153,0],[163,2,154,0,"exports"],[163,9,154,7],[163,10,154,8,"default"],[163,17,154,15],[163,20,154,18,"Serializer"],[163,30,154,28],[164,0,154,29],[164,3]],"functionMap":{"names":["<global>","Serializer","Serializer#constructor","Serializer#encode","Serializer#_binaryEncodeUserBroadcastPush","Serializer#_encodeBinaryUserBroadcastPush","Serializer#_encodeJsonUserBroadcastPush","Serializer#_encodeUserBroadcastPush","Array.from$argument_1","Serializer#decode","Serializer#_binaryDecode","Serializer#_decodeUserBroadcast","Serializer#_isArrayBuffer","Serializer#_pick","Object.entries.filter$argument_0"],"mappings":"AAA;ACE;ICC;KDS;IEC;KFQ;IGC;KHQ;IIC;KJI;IKC;KLM;IMC;4BC2C,qDD;wBCC,qDD;0BCC,qDD;8BCC,qDD;6BCC,qDD;KNK;IQC;KRW;ISC;KTQ;IUC;KVwB;IWC;KXG;IYC;6DCI,6BD;KZC;CDC"},"hasCjsExports":true},"type":"js/module"}]}