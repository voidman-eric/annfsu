{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./ImageManipulator.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":116},"end":{"line":4,"column":88,"index":204}}],"key":"T6y/NYMlBGi0asFDc4kC629pCOk=","exportNames":["*"],"imports":1}},{"name":"./NativeImageManipulatorModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":274},"end":{"line":6,"column":66,"index":340}}],"key":"8Y+B1GFyVeLfCjgVr/eyqjz4W8I=","exportNames":["*"],"imports":1}},{"name":"./validators","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":341},"end":{"line":7,"column":49,"index":390}}],"key":"1gp1aMKVyl2/9IK6VJGjIeJ+hoU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.manipulateAsync = manipulateAsync;\n  exports.useImageManipulator = useImageManipulator;\n  Object.defineProperty(exports, \"ImageManipulator\", {\n    enumerable: true,\n    get: function () {\n      return ExpoImageManipulator.default;\n    }\n  });\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _ImageManipulatorTypes = require(_dependencyMap[1], \"./ImageManipulator.types\");\n  var _NativeImageManipulatorModule = require(_dependencyMap[2], \"./NativeImageManipulatorModule\");\n  var ExpoImageManipulator = _interopDefault(_NativeImageManipulatorModule);\n  var _validators = require(_dependencyMap[3], \"./validators\");\n  // @needsAudit\n  /**\n   * Manipulate the image provided via `uri`. Available modifications are rotating, flipping (mirroring),\n   * resizing and cropping. Each invocation results in a new file. With one invocation you can provide\n   * a set of actions to perform over the image. Overwriting the source file would not have an effect\n   * in displaying the result as images are cached.\n   * @param uri URI of the file to manipulate. Should be on the local file system or a base64 data URI.\n   * @param actions An array of objects representing manipulation options. Each object should have\n   * __only one__ of the keys that corresponds to specific transformation.\n   * @param saveOptions A map defining how modified image should be saved.\n   * @return Promise which fulfils with [`ImageResult`](#imageresult) object.\n   * @deprecated It has been replaced by the new, contextual and object-oriented API.\n   * Use [`ImageManipulator.manipulate`](#manipulatesource) or [`useImageManipulator`](#useimagemanipulatorsource) instead.\n   */\n  async function manipulateAsync(uri, actions = [], saveOptions = {}) {\n    (0, _validators.validateArguments)(uri, actions, saveOptions);\n    const {\n      format = _ImageManipulatorTypes.SaveFormat.JPEG,\n      ...rest\n    } = saveOptions;\n    const context = ExpoImageManipulator.default.manipulate(uri);\n    for (const action of actions) {\n      if ('resize' in action) {\n        context.resize(action.resize);\n      } else if ('rotate' in action) {\n        context.rotate(action.rotate);\n      } else if ('flip' in action) {\n        context.flip(action.flip);\n      } else if ('crop' in action) {\n        context.crop(action.crop);\n      } else if ('extent' in action && context.extent) {\n        context.extent(action.extent);\n      }\n    }\n    const image = await context.renderAsync();\n    const result = await image.saveAsync({\n      format,\n      ...rest\n    });\n\n    // These shared objects will not be used anymore, so free up some memory.\n    context.release();\n    image.release();\n    return result;\n  }\n  function useImageManipulator(source) {\n    return (0, _expoModulesCore.useReleasingSharedObject)(() => ExpoImageManipulator.default.manipulate(source), [source]);\n  }\n});","lineCount":73,"map":[[12,2,23,0,"exports"],[12,9,23,0],[12,10,23,0,"manipulateAsync"],[12,25,23,0],[12,28,23,0,"manipulateAsync"],[12,43,23,0],[13,2,56,0,"exports"],[13,9,56,0],[13,10,56,0,"useImageManipulator"],[13,29,56,0],[13,32,56,0,"useImageManipulator"],[13,51,56,0],[14,2,60,0,"Object"],[14,8,60,0],[14,9,60,0,"defineProperty"],[14,23,60,0],[14,24,60,0,"exports"],[14,31,60,0],[15,4,60,0,"enumerable"],[15,14,60,0],[16,4,60,0,"get"],[16,7,60,0],[16,18,60,0,"get"],[16,19,60,0],[17,6,60,0],[17,13,60,9,"ExpoImageManipulator"],[17,33,60,29],[17,34,60,29,"default"],[17,41,60,29],[18,4,60,29],[19,2,60,29],[20,2,1,0],[20,6,1,0,"_expoModulesCore"],[20,22,1,0],[20,25,1,0,"require"],[20,32,1,0],[20,33,1,0,"_dependencyMap"],[20,47,1,0],[21,2,4,0],[21,6,4,0,"_ImageManipulatorTypes"],[21,28,4,0],[21,31,4,0,"require"],[21,38,4,0],[21,39,4,0,"_dependencyMap"],[21,53,4,0],[22,2,6,0],[22,6,6,0,"_NativeImageManipulatorModule"],[22,35,6,0],[22,38,6,0,"require"],[22,45,6,0],[22,46,6,0,"_dependencyMap"],[22,60,6,0],[23,2,6,0],[23,6,6,0,"ExpoImageManipulator"],[23,26,6,0],[23,29,6,0,"_interopDefault"],[23,44,6,0],[23,45,6,0,"_NativeImageManipulatorModule"],[23,74,6,0],[24,2,7,0],[24,6,7,0,"_validators"],[24,17,7,0],[24,20,7,0,"require"],[24,27,7,0],[24,28,7,0,"_dependencyMap"],[24,42,7,0],[25,2,9,0],[26,2,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[33,0,17,0],[34,0,18,0],[35,0,19,0],[36,0,20,0],[37,0,21,0],[38,0,22,0],[39,2,23,7],[39,17,23,22,"manipulateAsync"],[39,32,23,37,"manipulateAsync"],[39,33,24,2,"uri"],[39,36,24,13],[39,38,25,2,"actions"],[39,45,25,19],[39,48,25,22],[39,50,25,24],[39,52,26,2,"saveOptions"],[39,63,26,26],[39,66,26,29],[39,67,26,30],[39,68,26,31],[39,70,27,24],[40,4,28,2],[40,8,28,2,"validateArguments"],[40,19,28,19],[40,20,28,19,"validateArguments"],[40,37,28,19],[40,39,28,20,"uri"],[40,42,28,23],[40,44,28,25,"actions"],[40,51,28,32],[40,53,28,34,"saveOptions"],[40,64,28,45],[40,65,28,46],[41,4,30,2],[41,10,30,8],[42,6,30,10,"format"],[42,12,30,16],[42,15,30,19,"SaveFormat"],[42,37,30,29],[42,38,30,29,"SaveFormat"],[42,48,30,29],[42,49,30,30,"JPEG"],[42,53,30,34],[43,6,30,36],[43,9,30,39,"rest"],[44,4,30,44],[44,5,30,45],[44,8,30,48,"saveOptions"],[44,19,30,59],[45,4,31,2],[45,10,31,8,"context"],[45,17,31,15],[45,20,31,18,"ExpoImageManipulator"],[45,40,31,38],[45,41,31,38,"default"],[45,48,31,38],[45,49,31,39,"manipulate"],[45,59,31,49],[45,60,31,50,"uri"],[45,63,31,53],[45,64,31,54],[46,4,33,2],[46,9,33,7],[46,15,33,13,"action"],[46,21,33,19],[46,25,33,23,"actions"],[46,32,33,30],[46,34,33,32],[47,6,34,4],[47,10,34,8],[47,18,34,16],[47,22,34,20,"action"],[47,28,34,26],[47,30,34,28],[48,8,35,6,"context"],[48,15,35,13],[48,16,35,14,"resize"],[48,22,35,20],[48,23,35,21,"action"],[48,29,35,27],[48,30,35,28,"resize"],[48,36,35,34],[48,37,35,35],[49,6,36,4],[49,7,36,5],[49,13,36,11],[49,17,36,15],[49,25,36,23],[49,29,36,27,"action"],[49,35,36,33],[49,37,36,35],[50,8,37,6,"context"],[50,15,37,13],[50,16,37,14,"rotate"],[50,22,37,20],[50,23,37,21,"action"],[50,29,37,27],[50,30,37,28,"rotate"],[50,36,37,34],[50,37,37,35],[51,6,38,4],[51,7,38,5],[51,13,38,11],[51,17,38,15],[51,23,38,21],[51,27,38,25,"action"],[51,33,38,31],[51,35,38,33],[52,8,39,6,"context"],[52,15,39,13],[52,16,39,14,"flip"],[52,20,39,18],[52,21,39,19,"action"],[52,27,39,25],[52,28,39,26,"flip"],[52,32,39,30],[52,33,39,31],[53,6,40,4],[53,7,40,5],[53,13,40,11],[53,17,40,15],[53,23,40,21],[53,27,40,25,"action"],[53,33,40,31],[53,35,40,33],[54,8,41,6,"context"],[54,15,41,13],[54,16,41,14,"crop"],[54,20,41,18],[54,21,41,19,"action"],[54,27,41,25],[54,28,41,26,"crop"],[54,32,41,30],[54,33,41,31],[55,6,42,4],[55,7,42,5],[55,13,42,11],[55,17,42,15],[55,25,42,23],[55,29,42,27,"action"],[55,35,42,33],[55,39,42,37,"context"],[55,46,42,44],[55,47,42,45,"extent"],[55,53,42,51],[55,55,42,53],[56,8,43,6,"context"],[56,15,43,13],[56,16,43,14,"extent"],[56,22,43,20],[56,23,43,21,"action"],[56,29,43,27],[56,30,43,28,"extent"],[56,36,43,34],[56,37,43,35],[57,6,44,4],[58,4,45,2],[59,4,46,2],[59,10,46,8,"image"],[59,15,46,13],[59,18,46,16],[59,24,46,22,"context"],[59,31,46,29],[59,32,46,30,"renderAsync"],[59,43,46,41],[59,44,46,42],[59,45,46,43],[60,4,47,2],[60,10,47,8,"result"],[60,16,47,14],[60,19,47,17],[60,25,47,23,"image"],[60,30,47,28],[60,31,47,29,"saveAsync"],[60,40,47,38],[60,41,47,39],[61,6,47,41,"format"],[61,12,47,47],[62,6,47,49],[62,9,47,52,"rest"],[63,4,47,57],[63,5,47,58],[63,6,47,59],[65,4,49,2],[66,4,50,2,"context"],[66,11,50,9],[66,12,50,10,"release"],[66,19,50,17],[66,20,50,18],[66,21,50,19],[67,4,51,2,"image"],[67,9,51,7],[67,10,51,8,"release"],[67,17,51,15],[67,18,51,16],[67,19,51,17],[68,4,53,2],[68,11,53,9,"result"],[68,17,53,15],[69,2,54,0],[70,2,56,7],[70,11,56,16,"useImageManipulator"],[70,30,56,35,"useImageManipulator"],[70,31,56,36,"source"],[70,37,56,71],[70,39,56,98],[71,4,57,2],[71,11,57,9],[71,15,57,9,"useReleasingSharedObject"],[71,31,57,33],[71,32,57,33,"useReleasingSharedObject"],[71,56,57,33],[71,58,57,34],[71,64,57,40,"ExpoImageManipulator"],[71,84,57,60],[71,85,57,60,"default"],[71,92,57,60],[71,93,57,61,"manipulate"],[71,103,57,71],[71,104,57,72,"source"],[71,110,57,78],[71,111,57,79],[71,113,57,81],[71,114,57,82,"source"],[71,120,57,88],[71,121,57,89],[71,122,57,90],[72,2,58,0],[73,0,58,1],[73,3]],"functionMap":{"names":["<global>","manipulateAsync","useImageManipulator","useReleasingSharedObject$argument_0"],"mappings":"AAA;OCsB;CD+B;OEE;kCCC,6CD;CFC"},"hasCjsExports":false},"type":"js/module"}]}