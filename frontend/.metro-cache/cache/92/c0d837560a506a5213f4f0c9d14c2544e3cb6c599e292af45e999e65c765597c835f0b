{"dependencies":[{"name":"./ImageManipulator.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":11,"column":34,"index":170}}],"key":"T6y/NYMlBGi0asFDc4kC629pCOk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.validateArguments = validateArguments;\n  exports.validateUri = validateUri;\n  exports.validateActions = validateActions;\n  exports.validateSaveOptions = validateSaveOptions;\n  var _ImageManipulatorTypes = require(_dependencyMap[0], \"./ImageManipulator.types\");\n  function validateArguments(uri, actions, saveOptions) {\n    validateUri(uri);\n    validateActions(actions);\n    validateSaveOptions(saveOptions);\n  }\n  function validateUri(uri) {\n    if (!(typeof uri === 'string')) {\n      throw new TypeError('The \"uri\" argument must be a string');\n    }\n  }\n  function validateActions(actions) {\n    if (!Array.isArray(actions)) {\n      throw new TypeError('The \"actions\" argument must be an array');\n    }\n    for (const action of actions) {\n      if (typeof action !== 'object' || action === null) {\n        throw new TypeError('Action must be an object');\n      }\n      const supportedActionTypes = ['crop', 'extent', 'flip', 'rotate', 'resize'];\n      const actionKeys = Object.keys(action);\n      if (actionKeys.length !== 1) {\n        throw new TypeError(`Single action must contain exactly one transformation: ${supportedActionTypes.join(', ')}`);\n      }\n      const actionType = actionKeys[0];\n      if (!supportedActionTypes.includes(actionType)) {\n        throw new TypeError(`Unsupported action type: ${actionType}`);\n      }\n      if (actionType === 'crop') {\n        validateCropAction(action);\n      } else if (actionType === 'extent') {\n        validateExtentAction(action);\n      } else if (actionType === 'flip') {\n        validateFlipAction(action);\n      } else if (actionType === 'rotate') {\n        validateRotateAction(action);\n      } else if (actionType === 'resize') {\n        validateResizeAction(action);\n      }\n    }\n  }\n  function validateCropAction(action) {\n    const isValid = typeof action.crop === 'object' && action.crop !== null && typeof action.crop.originX === 'number' && typeof action.crop.originY === 'number' && typeof action.crop.width === 'number' && typeof action.crop.height === 'number';\n    if (!isValid) {\n      throw new TypeError('Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }');\n    }\n  }\n  function validateExtentAction(action) {\n    const isValid = typeof action.extent === 'object' && action.extent !== null && (action.extent.backgroundColor == null || typeof action.extent.backgroundColor === 'string') && (action.extent.originX == null || typeof action.extent.originX === 'number') && (action.extent.originY == null || typeof action.extent.originY === 'number') && typeof action.extent.width === 'number' && typeof action.extent.height === 'number';\n    if (!isValid) {\n      throw new TypeError('Extent action must be an object of shape { backgroundColor?: string; originX?: number; originY?: number; width: number; height: number }');\n    }\n  }\n  function validateFlipAction(action) {\n    if (typeof action.flip !== 'string' || ![_ImageManipulatorTypes.FlipType.Horizontal, _ImageManipulatorTypes.FlipType.Vertical].includes(action.flip)) {\n      throw new TypeError(`Unsupported flip type: ${action.flip}`);\n    }\n  }\n  function validateRotateAction(action) {\n    if (typeof action.rotate !== 'number') {\n      throw new TypeError('Rotation must be a number');\n    }\n  }\n  function validateResizeAction(action) {\n    const isValid = typeof action.resize === 'object' && action.resize !== null && (typeof action.resize.width === 'number' || typeof action.resize.width === 'undefined') && (typeof action.resize.height === 'number' || typeof action.resize.height === 'undefined');\n    if (!isValid) {\n      throw new TypeError('Resize action must be an object of shape { width?: number; height?: number }');\n    }\n  }\n  function validateSaveOptions({\n    base64,\n    compress,\n    format\n  }) {\n    if (base64 !== undefined && typeof base64 !== 'boolean') {\n      throw new TypeError('The \"base64\" argument must be a boolean');\n    }\n    if (compress !== undefined) {\n      if (typeof compress !== 'number') {\n        throw new TypeError('The \"compress\" argument must be a number');\n      }\n      if (compress < 0 || compress > 1) {\n        throw new TypeError('The \"compress\" argument must be a number between 0 and 1');\n      }\n    }\n    const allowedFormats = [_ImageManipulatorTypes.SaveFormat.JPEG, _ImageManipulatorTypes.SaveFormat.PNG, _ImageManipulatorTypes.SaveFormat.WEBP];\n    if (format !== undefined && !allowedFormats.includes(format)) {\n      throw new TypeError(`The \"format\" argument must be one of: ${allowedFormats.join(', ')}`);\n    }\n  }\n});","lineCount":101,"map":[[7,2,13,0,"exports"],[7,9,13,0],[7,10,13,0,"validateArguments"],[7,27,13,0],[7,30,13,0,"validateArguments"],[7,47,13,0],[8,2,19,0,"exports"],[8,9,19,0],[8,10,19,0,"validateUri"],[8,21,19,0],[8,24,19,0,"validateUri"],[8,35,19,0],[9,2,25,0,"exports"],[9,9,25,0],[9,10,25,0,"validateActions"],[9,25,25,0],[9,28,25,0,"validateActions"],[9,43,25,0],[10,2,118,0,"exports"],[10,9,118,0],[10,10,118,0,"validateSaveOptions"],[10,29,118,0],[10,32,118,0,"validateSaveOptions"],[10,51,118,0],[11,2,1,0],[11,6,1,0,"_ImageManipulatorTypes"],[11,28,1,0],[11,31,1,0,"require"],[11,38,1,0],[11,39,1,0,"_dependencyMap"],[11,53,1,0],[12,2,13,7],[12,11,13,16,"validateArguments"],[12,28,13,33,"validateArguments"],[12,29,13,34,"uri"],[12,32,13,45],[12,34,13,47,"actions"],[12,41,13,64],[12,43,13,66,"saveOptions"],[12,54,13,90],[12,56,13,92],[13,4,14,2,"validateUri"],[13,15,14,13],[13,16,14,14,"uri"],[13,19,14,17],[13,20,14,18],[14,4,15,2,"validateActions"],[14,19,15,17],[14,20,15,18,"actions"],[14,27,15,25],[14,28,15,26],[15,4,16,2,"validateSaveOptions"],[15,23,16,21],[15,24,16,22,"saveOptions"],[15,35,16,33],[15,36,16,34],[16,2,17,0],[17,2,19,7],[17,11,19,16,"validateUri"],[17,22,19,27,"validateUri"],[17,23,19,28,"uri"],[17,26,19,39],[17,28,19,47],[18,4,20,2],[18,8,20,6],[18,10,20,8],[18,17,20,15,"uri"],[18,20,20,18],[18,25,20,23],[18,33,20,31],[18,34,20,32],[18,36,20,34],[19,6,21,4],[19,12,21,10],[19,16,21,14,"TypeError"],[19,25,21,23],[19,26,21,24],[19,63,21,61],[19,64,21,62],[20,4,22,2],[21,2,23,0],[22,2,25,7],[22,11,25,16,"validateActions"],[22,26,25,31,"validateActions"],[22,27,25,32,"actions"],[22,34,25,49],[22,36,25,57],[23,4,26,2],[23,8,26,6],[23,9,26,7,"Array"],[23,14,26,12],[23,15,26,13,"isArray"],[23,22,26,20],[23,23,26,21,"actions"],[23,30,26,28],[23,31,26,29],[23,33,26,31],[24,6,27,4],[24,12,27,10],[24,16,27,14,"TypeError"],[24,25,27,23],[24,26,27,24],[24,67,27,65],[24,68,27,66],[25,4,28,2],[26,4,29,2],[26,9,29,7],[26,15,29,13,"action"],[26,21,29,19],[26,25,29,23,"actions"],[26,32,29,30],[26,34,29,32],[27,6,30,4],[27,10,30,8],[27,17,30,15,"action"],[27,23,30,21],[27,28,30,26],[27,36,30,34],[27,40,30,38,"action"],[27,46,30,44],[27,51,30,49],[27,55,30,53],[27,57,30,55],[28,8,31,6],[28,14,31,12],[28,18,31,16,"TypeError"],[28,27,31,25],[28,28,31,26],[28,54,31,52],[28,55,31,53],[29,6,32,4],[30,6,33,4],[30,12,33,10,"supportedActionTypes"],[30,32,33,30],[30,35,33,33],[30,36,33,34],[30,42,33,40],[30,44,33,42],[30,52,33,50],[30,54,33,52],[30,60,33,58],[30,62,33,60],[30,70,33,68],[30,72,33,70],[30,80,33,78],[30,81,33,79],[31,6,34,4],[31,12,34,10,"actionKeys"],[31,22,34,20],[31,25,34,23,"Object"],[31,31,34,29],[31,32,34,30,"keys"],[31,36,34,34],[31,37,34,35,"action"],[31,43,34,41],[31,44,34,42],[32,6,35,4],[32,10,35,8,"actionKeys"],[32,20,35,18],[32,21,35,19,"length"],[32,27,35,25],[32,32,35,30],[32,33,35,31],[32,35,35,33],[33,8,36,6],[33,14,36,12],[33,18,36,16,"TypeError"],[33,27,36,25],[33,28,37,8],[33,86,37,66,"supportedActionTypes"],[33,106,37,86],[33,107,37,87,"join"],[33,111,37,91],[33,112,37,92],[33,116,37,96],[33,117,37,97],[33,119,38,6],[33,120,38,7],[34,6,39,4],[35,6,40,4],[35,12,40,10,"actionType"],[35,22,40,20],[35,25,40,23,"actionKeys"],[35,35,40,33],[35,36,40,34],[35,37,40,35],[35,38,40,36],[36,6,41,4],[36,10,41,8],[36,11,41,9,"supportedActionTypes"],[36,31,41,29],[36,32,41,30,"includes"],[36,40,41,38],[36,41,41,39,"actionType"],[36,51,41,49],[36,52,41,50],[36,54,41,52],[37,8,42,6],[37,14,42,12],[37,18,42,16,"TypeError"],[37,27,42,25],[37,28,42,26],[37,56,42,54,"actionType"],[37,66,42,64],[37,68,42,66],[37,69,42,67],[38,6,43,4],[39,6,45,4],[39,10,45,8,"actionType"],[39,20,45,18],[39,25,45,23],[39,31,45,29],[39,33,45,31],[40,8,46,6,"validateCropAction"],[40,26,46,24],[40,27,46,25,"action"],[40,33,46,45],[40,34,46,46],[41,6,47,4],[41,7,47,5],[41,13,47,11],[41,17,47,15,"actionType"],[41,27,47,25],[41,32,47,30],[41,40,47,38],[41,42,47,40],[42,8,48,6,"validateExtentAction"],[42,28,48,26],[42,29,48,27,"action"],[42,35,48,49],[42,36,48,50],[43,6,49,4],[43,7,49,5],[43,13,49,11],[43,17,49,15,"actionType"],[43,27,49,25],[43,32,49,30],[43,38,49,36],[43,40,49,38],[44,8,50,6,"validateFlipAction"],[44,26,50,24],[44,27,50,25,"action"],[44,33,50,45],[44,34,50,46],[45,6,51,4],[45,7,51,5],[45,13,51,11],[45,17,51,15,"actionType"],[45,27,51,25],[45,32,51,30],[45,40,51,38],[45,42,51,40],[46,8,52,6,"validateRotateAction"],[46,28,52,26],[46,29,52,27,"action"],[46,35,52,49],[46,36,52,50],[47,6,53,4],[47,7,53,5],[47,13,53,11],[47,17,53,15,"actionType"],[47,27,53,25],[47,32,53,30],[47,40,53,38],[47,42,53,40],[48,8,54,6,"validateResizeAction"],[48,28,54,26],[48,29,54,27,"action"],[48,35,54,49],[48,36,54,50],[49,6,55,4],[50,4,56,2],[51,2,57,0],[52,2,59,0],[52,11,59,9,"validateCropAction"],[52,29,59,27,"validateCropAction"],[52,30,59,28,"action"],[52,36,59,46],[52,38,59,54],[53,4,60,2],[53,10,60,8,"isValid"],[53,17,60,15],[53,20,61,4],[53,27,61,11,"action"],[53,33,61,17],[53,34,61,18,"crop"],[53,38,61,22],[53,43,61,27],[53,51,61,35],[53,55,62,4,"action"],[53,61,62,10],[53,62,62,11,"crop"],[53,66,62,15],[53,71,62,20],[53,75,62,24],[53,79,63,4],[53,86,63,11,"action"],[53,92,63,17],[53,93,63,18,"crop"],[53,97,63,22],[53,98,63,23,"originX"],[53,105,63,30],[53,110,63,35],[53,118,63,43],[53,122,64,4],[53,129,64,11,"action"],[53,135,64,17],[53,136,64,18,"crop"],[53,140,64,22],[53,141,64,23,"originY"],[53,148,64,30],[53,153,64,35],[53,161,64,43],[53,165,65,4],[53,172,65,11,"action"],[53,178,65,17],[53,179,65,18,"crop"],[53,183,65,22],[53,184,65,23,"width"],[53,189,65,28],[53,194,65,33],[53,202,65,41],[53,206,66,4],[53,213,66,11,"action"],[53,219,66,17],[53,220,66,18,"crop"],[53,224,66,22],[53,225,66,23,"height"],[53,231,66,29],[53,236,66,34],[53,244,66,42],[54,4,67,2],[54,8,67,6],[54,9,67,7,"isValid"],[54,16,67,14],[54,18,67,16],[55,6,68,4],[55,12,68,10],[55,16,68,14,"TypeError"],[55,25,68,23],[55,26,69,6],[55,134,70,4],[55,135,70,5],[56,4,71,2],[57,2,72,0],[58,2,74,0],[58,11,74,9,"validateExtentAction"],[58,31,74,29,"validateExtentAction"],[58,32,74,30,"action"],[58,38,74,50],[58,40,74,58],[59,4,75,2],[59,10,75,8,"isValid"],[59,17,75,15],[59,20,76,4],[59,27,76,11,"action"],[59,33,76,17],[59,34,76,18,"extent"],[59,40,76,24],[59,45,76,29],[59,53,76,37],[59,57,77,4,"action"],[59,63,77,10],[59,64,77,11,"extent"],[59,70,77,17],[59,75,77,22],[59,79,77,26],[59,84,78,5,"action"],[59,90,78,11],[59,91,78,12,"extent"],[59,97,78,18],[59,98,78,19,"backgroundColor"],[59,113,78,34],[59,117,78,38],[59,121,78,42],[59,125,78,46],[59,132,78,53,"action"],[59,138,78,59],[59,139,78,60,"extent"],[59,145,78,66],[59,146,78,67,"backgroundColor"],[59,161,78,82],[59,166,78,87],[59,174,78,95],[59,175,78,96],[59,180,79,5,"action"],[59,186,79,11],[59,187,79,12,"extent"],[59,193,79,18],[59,194,79,19,"originX"],[59,201,79,26],[59,205,79,30],[59,209,79,34],[59,213,79,38],[59,220,79,45,"action"],[59,226,79,51],[59,227,79,52,"extent"],[59,233,79,58],[59,234,79,59,"originX"],[59,241,79,66],[59,246,79,71],[59,254,79,79],[59,255,79,80],[59,260,80,5,"action"],[59,266,80,11],[59,267,80,12,"extent"],[59,273,80,18],[59,274,80,19,"originY"],[59,281,80,26],[59,285,80,30],[59,289,80,34],[59,293,80,38],[59,300,80,45,"action"],[59,306,80,51],[59,307,80,52,"extent"],[59,313,80,58],[59,314,80,59,"originY"],[59,321,80,66],[59,326,80,71],[59,334,80,79],[59,335,80,80],[59,339,81,4],[59,346,81,11,"action"],[59,352,81,17],[59,353,81,18,"extent"],[59,359,81,24],[59,360,81,25,"width"],[59,365,81,30],[59,370,81,35],[59,378,81,43],[59,382,82,4],[59,389,82,11,"action"],[59,395,82,17],[59,396,82,18,"extent"],[59,402,82,24],[59,403,82,25,"height"],[59,409,82,31],[59,414,82,36],[59,422,82,44],[60,4,83,2],[60,8,83,6],[60,9,83,7,"isValid"],[60,16,83,14],[60,18,83,16],[61,6,84,4],[61,12,84,10],[61,16,84,14,"TypeError"],[61,25,84,23],[61,26,85,6],[61,164,86,4],[61,165,86,5],[62,4,87,2],[63,2,88,0],[64,2,90,0],[64,11,90,9,"validateFlipAction"],[64,29,90,27,"validateFlipAction"],[64,30,90,28,"action"],[64,36,90,46],[64,38,90,54],[65,4,91,2],[65,8,92,4],[65,15,92,11,"action"],[65,21,92,17],[65,22,92,18,"flip"],[65,26,92,22],[65,31,92,27],[65,39,92,35],[65,43,93,4],[65,44,93,5],[65,45,93,6,"FlipType"],[65,67,93,14],[65,68,93,14,"FlipType"],[65,76,93,14],[65,77,93,15,"Horizontal"],[65,87,93,25],[65,89,93,27,"FlipType"],[65,111,93,35],[65,112,93,35,"FlipType"],[65,120,93,35],[65,121,93,36,"Vertical"],[65,129,93,44],[65,130,93,45],[65,131,93,46,"includes"],[65,139,93,54],[65,140,93,55,"action"],[65,146,93,61],[65,147,93,62,"flip"],[65,151,93,66],[65,152,93,67],[65,154,94,4],[66,6,95,4],[66,12,95,10],[66,16,95,14,"TypeError"],[66,25,95,23],[66,26,95,24],[66,52,95,50,"action"],[66,58,95,56],[66,59,95,57,"flip"],[66,63,95,61],[66,65,95,63],[66,66,95,64],[67,4,96,2],[68,2,97,0],[69,2,99,0],[69,11,99,9,"validateRotateAction"],[69,31,99,29,"validateRotateAction"],[69,32,99,30,"action"],[69,38,99,50],[69,40,99,58],[70,4,100,2],[70,8,100,6],[70,15,100,13,"action"],[70,21,100,19],[70,22,100,20,"rotate"],[70,28,100,26],[70,33,100,31],[70,41,100,39],[70,43,100,41],[71,6,101,4],[71,12,101,10],[71,16,101,14,"TypeError"],[71,25,101,23],[71,26,101,24],[71,53,101,51],[71,54,101,52],[72,4,102,2],[73,2,103,0],[74,2,105,0],[74,11,105,9,"validateResizeAction"],[74,31,105,29,"validateResizeAction"],[74,32,105,30,"action"],[74,38,105,50],[74,40,105,58],[75,4,106,2],[75,10,106,8,"isValid"],[75,17,106,15],[75,20,107,4],[75,27,107,11,"action"],[75,33,107,17],[75,34,107,18,"resize"],[75,40,107,24],[75,45,107,29],[75,53,107,37],[75,57,108,4,"action"],[75,63,108,10],[75,64,108,11,"resize"],[75,70,108,17],[75,75,108,22],[75,79,108,26],[75,84,109,5],[75,91,109,12,"action"],[75,97,109,18],[75,98,109,19,"resize"],[75,104,109,25],[75,105,109,26,"width"],[75,110,109,31],[75,115,109,36],[75,123,109,44],[75,127,109,48],[75,134,109,55,"action"],[75,140,109,61],[75,141,109,62,"resize"],[75,147,109,68],[75,148,109,69,"width"],[75,153,109,74],[75,158,109,79],[75,169,109,90],[75,170,109,91],[75,175,110,5],[75,182,110,12,"action"],[75,188,110,18],[75,189,110,19,"resize"],[75,195,110,25],[75,196,110,26,"height"],[75,202,110,32],[75,207,110,37],[75,215,110,45],[75,219,110,49],[75,226,110,56,"action"],[75,232,110,62],[75,233,110,63,"resize"],[75,239,110,69],[75,240,110,70,"height"],[75,246,110,76],[75,251,110,81],[75,262,110,92],[75,263,110,93],[76,4,111,2],[76,8,111,6],[76,9,111,7,"isValid"],[76,16,111,14],[76,18,111,16],[77,6,112,4],[77,12,112,10],[77,16,112,14,"TypeError"],[77,25,112,23],[77,26,113,6],[77,104,114,4],[77,105,114,5],[78,4,115,2],[79,2,116,0],[80,2,118,7],[80,11,118,16,"validateSaveOptions"],[80,30,118,35,"validateSaveOptions"],[80,31,118,36],[81,4,118,38,"base64"],[81,10,118,44],[82,4,118,46,"compress"],[82,12,118,54],[83,4,118,56,"format"],[84,2,118,76],[84,3,118,77],[84,5,118,85],[85,4,119,2],[85,8,119,6,"base64"],[85,14,119,12],[85,19,119,17,"undefined"],[85,28,119,26],[85,32,119,30],[85,39,119,37,"base64"],[85,45,119,43],[85,50,119,48],[85,59,119,57],[85,61,119,59],[86,6,120,4],[86,12,120,10],[86,16,120,14,"TypeError"],[86,25,120,23],[86,26,120,24],[86,67,120,65],[86,68,120,66],[87,4,121,2],[88,4,122,2],[88,8,122,6,"compress"],[88,16,122,14],[88,21,122,19,"undefined"],[88,30,122,28],[88,32,122,30],[89,6,123,4],[89,10,123,8],[89,17,123,15,"compress"],[89,25,123,23],[89,30,123,28],[89,38,123,36],[89,40,123,38],[90,8,124,6],[90,14,124,12],[90,18,124,16,"TypeError"],[90,27,124,25],[90,28,124,26],[90,70,124,68],[90,71,124,69],[91,6,125,4],[92,6,126,4],[92,10,126,8,"compress"],[92,18,126,16],[92,21,126,19],[92,22,126,20],[92,26,126,24,"compress"],[92,34,126,32],[92,37,126,35],[92,38,126,36],[92,40,126,38],[93,8,127,6],[93,14,127,12],[93,18,127,16,"TypeError"],[93,27,127,25],[93,28,127,26],[93,86,127,84],[93,87,127,85],[94,6,128,4],[95,4,129,2],[96,4,130,2],[96,10,130,8,"allowedFormats"],[96,24,130,22],[96,27,130,25],[96,28,130,26,"SaveFormat"],[96,50,130,36],[96,51,130,36,"SaveFormat"],[96,61,130,36],[96,62,130,37,"JPEG"],[96,66,130,41],[96,68,130,43,"SaveFormat"],[96,90,130,53],[96,91,130,53,"SaveFormat"],[96,101,130,53],[96,102,130,54,"PNG"],[96,105,130,57],[96,107,130,59,"SaveFormat"],[96,129,130,69],[96,130,130,69,"SaveFormat"],[96,140,130,69],[96,141,130,70,"WEBP"],[96,145,130,74],[96,146,130,75],[97,4,131,2],[97,8,131,6,"format"],[97,14,131,12],[97,19,131,17,"undefined"],[97,28,131,26],[97,32,131,30],[97,33,131,31,"allowedFormats"],[97,47,131,45],[97,48,131,46,"includes"],[97,56,131,54],[97,57,131,55,"format"],[97,63,131,61],[97,64,131,62],[97,66,131,64],[98,6,132,4],[98,12,132,10],[98,16,132,14,"TypeError"],[98,25,132,23],[98,26,132,24],[98,67,132,65,"allowedFormats"],[98,81,132,79],[98,82,132,80,"join"],[98,86,132,84],[98,87,132,85],[98,91,132,89],[98,92,132,90],[98,94,132,92],[98,95,132,93],[99,4,133,2],[100,2,134,0],[101,0,134,1],[101,3]],"functionMap":{"names":["<global>","validateArguments","validateUri","validateActions","validateCropAction","validateExtentAction","validateFlipAction","validateRotateAction","validateResizeAction","validateSaveOptions"],"mappings":"AAA;OCY;CDI;OEE;CFI;OGE;CHgC;AIE;CJa;AKE;CLc;AME;CNO;AOE;CPI;AQE;CRW;OSE;CTgB"},"hasCjsExports":false},"type":"js/module"}]}