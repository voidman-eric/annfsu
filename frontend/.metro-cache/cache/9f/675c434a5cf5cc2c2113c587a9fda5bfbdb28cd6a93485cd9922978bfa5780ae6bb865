{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user_data');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const isAdmin = user?.role === 'admin' || user?.role === 'super_admin';\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading,\n        isAdmin\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":108,"map":[[15,2,35,0,"exports"],[15,9,35,0],[15,10,35,0,"AuthProvider"],[15,22,35,0],[15,25,35,0,"AuthProvider"],[15,37,35,0],[16,2,99,0,"exports"],[16,9,99,0],[16,10,99,0,"useAuth"],[16,17,99,0],[16,20,99,0,"useAuth"],[16,27,99,0],[17,2,105,1],[17,6,105,1,"_expoVirtualEnv"],[17,21,105,1],[17,24,105,1,"require"],[17,31,105,1],[17,32,105,1,"_dependencyMap"],[17,46,105,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,3,26],[23,6,3,26,"_reactJsxDevRuntime"],[23,25,3,26],[23,28,3,26,"require"],[23,35,3,26],[23,36,3,26,"_dependencyMap"],[23,50,3,26],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,13,"_expoVirtualEnv"],[24,33,5,13],[24,34,5,13,"env"],[24,37,5,13],[24,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,51],[25,2,33,0],[25,8,33,6,"AuthContext"],[25,19,33,17],[25,35,33,20],[25,39,33,20,"createContext"],[25,45,33,33],[25,46,33,33,"createContext"],[25,59,33,33],[25,61,33,63,"undefined"],[25,70,33,72],[25,71,33,73],[26,2,35,7],[26,11,35,16,"AuthProvider"],[26,23,35,28,"AuthProvider"],[26,24,35,29],[27,4,35,31,"children"],[28,2,35,71],[28,3,35,72],[28,5,35,74],[29,4,35,74,"_s"],[29,6,35,74],[30,4,36,2],[30,10,36,8],[30,11,36,9,"user"],[30,15,36,13],[30,17,36,15,"setUser"],[30,24,36,22],[30,25,36,23],[30,28,36,26],[30,32,36,26,"useState"],[30,38,36,34],[30,39,36,34,"useState"],[30,47,36,34],[30,49,36,48],[30,53,36,52],[30,54,36,53],[31,4,37,2],[31,10,37,8],[31,11,37,9,"token"],[31,16,37,14],[31,18,37,16,"setToken"],[31,26,37,24],[31,27,37,25],[31,30,37,28],[31,34,37,28,"useState"],[31,40,37,36],[31,41,37,36,"useState"],[31,49,37,36],[31,51,37,52],[31,55,37,56],[31,56,37,57],[32,4,38,2],[32,10,38,8],[32,11,38,9,"isLoading"],[32,20,38,18],[32,22,38,20,"setIsLoading"],[32,34,38,32],[32,35,38,33],[32,38,38,36],[32,42,38,36,"useState"],[32,48,38,44],[32,49,38,44,"useState"],[32,57,38,44],[32,59,38,45],[32,63,38,49],[32,64,38,50],[33,4,40,2],[33,8,40,2,"useEffect"],[33,14,40,11],[33,15,40,11,"useEffect"],[33,24,40,11],[33,26,40,12],[33,32,40,18],[34,6,41,4,"loadStoredAuth"],[34,20,41,18],[34,21,41,19],[34,22,41,20],[35,4,42,2],[35,5,42,3],[35,7,42,5],[35,9,42,7],[35,10,42,8],[36,4,44,2],[36,10,44,8,"loadStoredAuth"],[36,24,44,22],[36,27,44,25],[36,33,44,25,"loadStoredAuth"],[36,34,44,25],[36,39,44,37],[37,6,45,4],[37,10,45,8],[38,8,46,6],[38,14,46,12,"storedToken"],[38,25,46,23],[38,28,46,26],[38,34,46,32,"AsyncStorage"],[38,46,46,44],[38,47,46,44,"default"],[38,54,46,44],[38,55,46,45,"getItem"],[38,62,46,52],[38,63,46,53],[38,75,46,65],[38,76,46,66],[39,8,47,6],[39,14,47,12,"storedUser"],[39,24,47,22],[39,27,47,25],[39,33,47,31,"AsyncStorage"],[39,45,47,43],[39,46,47,43,"default"],[39,53,47,43],[39,54,47,44,"getItem"],[39,61,47,51],[39,62,47,52],[39,73,47,63],[39,74,47,64],[40,8,49,6],[40,12,49,10,"storedToken"],[40,23,49,21],[40,27,49,25,"storedUser"],[40,37,49,35],[40,39,49,37],[41,10,50,8,"setToken"],[41,18,50,16],[41,19,50,17,"storedToken"],[41,30,50,28],[41,31,50,29],[42,10,51,8,"setUser"],[42,17,51,15],[42,18,51,16,"JSON"],[42,22,51,20],[42,23,51,21,"parse"],[42,28,51,26],[42,29,51,27,"storedUser"],[42,39,51,37],[42,40,51,38],[42,41,51,39],[43,8,52,6],[44,6,53,4],[44,7,53,5],[44,8,53,6],[44,15,53,13,"error"],[44,20,53,18],[44,22,53,20],[45,8,54,6,"console"],[45,15,54,13],[45,16,54,14,"error"],[45,21,54,19],[45,22,54,20],[45,43,54,41],[45,45,54,43,"error"],[45,50,54,48],[45,51,54,49],[46,6,55,4],[46,7,55,5],[46,16,55,14],[47,8,56,6,"setIsLoading"],[47,20,56,18],[47,21,56,19],[47,26,56,24],[47,27,56,25],[48,6,57,4],[49,4,58,2],[49,5,58,3],[50,4,60,2],[50,10,60,8,"login"],[50,15,60,13],[50,18,60,16],[50,24,60,16,"login"],[50,25,60,23,"email"],[50,30,60,36],[50,32,60,38,"password"],[50,40,60,54],[50,45,60,59],[51,6,61,4],[51,10,61,8],[52,8,62,6],[52,14,62,12,"response"],[52,22,62,20],[52,25,62,23],[52,31,62,29,"axios"],[52,36,62,34],[52,37,62,34,"default"],[52,44,62,34],[52,45,62,35,"post"],[52,49,62,39],[52,50,62,40],[52,53,62,43,"API_URL"],[52,60,62,50],[52,77,62,67],[52,79,62,69],[53,10,63,8,"email"],[53,15,63,13],[54,10,64,8,"password"],[55,8,65,6],[55,9,65,7],[55,10,65,8],[56,8,67,6],[56,14,67,12],[57,10,67,14,"access_token"],[57,22,67,26],[58,10,67,28,"user"],[58,14,67,32],[58,16,67,34,"userData"],[59,8,67,43],[59,9,67,44],[59,12,67,47,"response"],[59,20,67,55],[59,21,67,56,"data"],[59,25,67,60],[60,8,69,6],[60,14,69,12,"AsyncStorage"],[60,26,69,24],[60,27,69,24,"default"],[60,34,69,24],[60,35,69,25,"setItem"],[60,42,69,32],[60,43,69,33],[60,55,69,45],[60,57,69,47,"access_token"],[60,69,69,59],[60,70,69,60],[61,8,70,6],[61,14,70,12,"AsyncStorage"],[61,26,70,24],[61,27,70,24,"default"],[61,34,70,24],[61,35,70,25,"setItem"],[61,42,70,32],[61,43,70,33],[61,54,70,44],[61,56,70,46,"JSON"],[61,60,70,50],[61,61,70,51,"stringify"],[61,70,70,60],[61,71,70,61,"userData"],[61,79,70,69],[61,80,70,70],[61,81,70,71],[62,8,72,6,"setToken"],[62,16,72,14],[62,17,72,15,"access_token"],[62,29,72,27],[62,30,72,28],[63,8,73,6,"setUser"],[63,15,73,13],[63,16,73,14,"userData"],[63,24,73,22],[63,25,73,23],[64,6,74,4],[64,7,74,5],[64,8,74,6],[64,15,74,13,"error"],[64,20,74,23],[64,22,74,25],[65,8,75,6],[65,14,75,12],[65,18,75,16,"Error"],[65,23,75,21],[65,24,75,22,"error"],[65,29,75,27],[65,30,75,28,"response"],[65,38,75,36],[65,40,75,38,"data"],[65,44,75,42],[65,46,75,44,"detail"],[65,52,75,50],[65,56,75,54],[65,70,75,68],[65,71,75,69],[66,6,76,4],[67,4,77,2],[67,5,77,3],[68,4,79,2],[68,10,79,8,"logout"],[68,16,79,14],[68,19,79,17],[68,25,79,17,"logout"],[68,26,79,17],[68,31,79,29],[69,6,80,4],[69,10,80,8],[70,8,81,6],[70,14,81,12,"AsyncStorage"],[70,26,81,24],[70,27,81,24,"default"],[70,34,81,24],[70,35,81,25,"removeItem"],[70,45,81,35],[70,46,81,36],[70,58,81,48],[70,59,81,49],[71,8,82,6],[71,14,82,12,"AsyncStorage"],[71,26,82,24],[71,27,82,24,"default"],[71,34,82,24],[71,35,82,25,"removeItem"],[71,45,82,35],[71,46,82,36],[71,57,82,47],[71,58,82,48],[72,8,83,6,"setToken"],[72,16,83,14],[72,17,83,15],[72,21,83,19],[72,22,83,20],[73,8,84,6,"setUser"],[73,15,84,13],[73,16,84,14],[73,20,84,18],[73,21,84,19],[74,6,85,4],[74,7,85,5],[74,8,85,6],[74,15,85,13,"error"],[74,20,85,18],[74,22,85,20],[75,8,86,6,"console"],[75,15,86,13],[75,16,86,14,"error"],[75,21,86,19],[75,22,86,20],[75,37,86,35],[75,39,86,37,"error"],[75,44,86,42],[75,45,86,43],[76,6,87,4],[77,4,88,2],[77,5,88,3],[78,4,90,2],[78,10,90,8,"isAdmin"],[78,17,90,15],[78,20,90,18,"user"],[78,24,90,22],[78,26,90,24,"role"],[78,30,90,28],[78,35,90,33],[78,42,90,40],[78,46,90,44,"user"],[78,50,90,48],[78,52,90,50,"role"],[78,56,90,54],[78,61,90,59],[78,74,90,72],[79,4,92,2],[79,24,93,4],[79,28,93,4,"_reactJsxDevRuntime"],[79,47,93,4],[79,48,93,4,"jsxDEV"],[79,54,93,4],[79,56,93,5,"AuthContext"],[79,67,93,16],[79,68,93,17,"Provider"],[79,76,93,25],[80,6,93,26,"value"],[80,11,93,31],[80,13,93,33],[81,8,93,35,"user"],[81,12,93,39],[82,8,93,41,"token"],[82,13,93,46],[83,8,93,48,"login"],[83,13,93,53],[84,8,93,55,"logout"],[84,14,93,61],[85,8,93,63,"isLoading"],[85,17,93,72],[86,8,93,74,"isAdmin"],[87,6,93,82],[87,7,93,84],[88,6,93,84,"children"],[88,14,93,84],[88,16,94,7,"children"],[89,4,94,15],[90,6,94,15,"fileName"],[90,14,94,15],[90,16,94,15,"_jsxFileName"],[90,28,94,15],[91,6,94,15,"lineNumber"],[91,16,94,15],[92,6,94,15,"columnNumber"],[92,18,94,15],[93,4,94,15],[93,11,95,26],[93,12,95,27],[94,2,97,0],[95,2,97,1,"_s"],[95,4,97,1],[95,5,35,16,"AuthProvider"],[95,17,35,28],[96,2,35,28,"_c"],[96,4,35,28],[96,7,35,16,"AuthProvider"],[96,19,35,28],[97,2,99,7],[97,11,99,16,"useAuth"],[97,18,99,23,"useAuth"],[97,19,99,23],[97,21,99,26],[98,4,99,26,"_s2"],[98,7,99,26],[99,4,100,2],[99,10,100,8,"context"],[99,17,100,15],[99,20,100,18],[99,24,100,18,"useContext"],[99,30,100,28],[99,31,100,28,"useContext"],[99,41,100,28],[99,43,100,29,"AuthContext"],[99,54,100,40],[99,55,100,41],[100,4,101,2],[100,8,101,6,"context"],[100,15,101,13],[100,20,101,18,"undefined"],[100,29,101,27],[100,31,101,29],[101,6,102,4],[101,12,102,10],[101,16,102,14,"Error"],[101,21,102,19],[101,22,102,20],[101,67,102,65],[101,68,102,66],[102,4,103,2],[103,4,104,2],[103,11,104,9,"context"],[103,18,104,16],[104,2,105,0],[105,2,105,1,"_s2"],[105,5,105,1],[105,6,99,16,"useAuth"],[105,13,99,23],[106,2,99,23],[106,6,99,23,"_c"],[106,8,99,23],[107,2,99,23,"$RefreshReg$"],[107,14,99,23],[107,15,99,23,"_c"],[107,17,99,23],[108,0,99,23],[108,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCkC;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJS;CDS;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}