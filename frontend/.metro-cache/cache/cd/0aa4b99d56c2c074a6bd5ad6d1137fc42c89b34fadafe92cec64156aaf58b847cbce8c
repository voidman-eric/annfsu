{"dependencies":[{"name":"./helpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"kg0rJsyHf+Iyf4Z1AFOYGhKLkW4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"internals\", {\n    enumerable: true,\n    get: function () {\n      return internals;\n    }\n  });\n  Object.defineProperty(exports, \"LockAcquireTimeoutError\", {\n    enumerable: true,\n    get: function () {\n      return LockAcquireTimeoutError;\n    }\n  });\n  Object.defineProperty(exports, \"NavigatorLockAcquireTimeoutError\", {\n    enumerable: true,\n    get: function () {\n      return NavigatorLockAcquireTimeoutError;\n    }\n  });\n  Object.defineProperty(exports, \"ProcessLockAcquireTimeoutError\", {\n    enumerable: true,\n    get: function () {\n      return ProcessLockAcquireTimeoutError;\n    }\n  });\n  exports.navigatorLock = navigatorLock;\n  exports.processLock = processLock;\n  var _helpers = require(_dependencyMap[0], \"./helpers\");\n  /**\n   * @experimental\n   */\n  const internals = {\n    /**\n     * @experimental\n     */\n    debug: !!(globalThis && (0, _helpers.supportsLocalStorage)() && globalThis.localStorage && globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug') === 'true')\n  };\n  /**\n   * An error thrown when a lock cannot be acquired after some amount of time.\n   *\n   * Use the {@link #isAcquireTimeout} property instead of checking with `instanceof`.\n   *\n   * @example\n   * ```ts\n   * import { LockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * class CustomLockError extends LockAcquireTimeoutError {\n   *   constructor() {\n   *     super('Lock timed out')\n   *   }\n   * }\n   * ```\n   */\n  class LockAcquireTimeoutError extends Error {\n    constructor(message) {\n      super(message);\n      this.isAcquireTimeout = true;\n    }\n  }\n  /**\n   * Error thrown when the browser Navigator Lock API fails to acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { NavigatorLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new NavigatorLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError {}\n  /**\n   * Error thrown when the process-level lock helper cannot acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { ProcessLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new ProcessLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  class ProcessLockAcquireTimeoutError extends LockAcquireTimeoutError {}\n  /**\n   * Implements a global exclusive lock using the Navigator LockManager API. It\n   * is available on all browsers released after 2022-03-15 with Safari being the\n   * last one to release support. If the API is not available, this function will\n   * throw. Make sure you check availablility before configuring {@link\n   * GoTrueClient}.\n   *\n   * You can turn on debugging by setting the `supabase.gotrue-js.locks.debug`\n   * local storage item to `true`.\n   *\n   * Internals:\n   *\n   * Since the LockManager API does not preserve stack traces for the async\n   * function passed in the `request` method, a trick is used where acquiring the\n   * lock releases a previously started promise to run the operation in the `fn`\n   * function. The lock waits for that promise to finish (with or without error),\n   * while the function will finally wait for the result anyway.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await navigatorLock('sync-user', 1000, async () => {\n   *   await refreshSession()\n   * })\n   * ```\n   */\n  async function navigatorLock(name, acquireTimeout, fn) {\n    if (internals.debug) {\n      console.log('@supabase/gotrue-js: navigatorLock: acquire lock', name, acquireTimeout);\n    }\n    const abortController = new globalThis.AbortController();\n    if (acquireTimeout > 0) {\n      setTimeout(() => {\n        abortController.abort();\n        if (internals.debug) {\n          console.log('@supabase/gotrue-js: navigatorLock acquire timed out', name);\n        }\n      }, acquireTimeout);\n    }\n    // MDN article: https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request\n    // Wrapping navigator.locks.request() with a plain Promise is done as some\n    // libraries like zone.js patch the Promise object to track the execution\n    // context. However, it appears that most browsers use an internal promise\n    // implementation when using the navigator.locks.request() API causing them\n    // to lose context and emit confusing log messages or break certain features.\n    // This wrapping is believed to help zone.js track the execution context\n    // better.\n    return await Promise.resolve().then(() => globalThis.navigator.locks.request(name, acquireTimeout === 0 ? {\n      mode: 'exclusive',\n      ifAvailable: true\n    } : {\n      mode: 'exclusive',\n      signal: abortController.signal\n    }, async lock => {\n      if (lock) {\n        if (internals.debug) {\n          console.log('@supabase/gotrue-js: navigatorLock: acquired', name, lock.name);\n        }\n        try {\n          return await fn();\n        } finally {\n          if (internals.debug) {\n            console.log('@supabase/gotrue-js: navigatorLock: released', name, lock.name);\n          }\n        }\n      } else {\n        if (acquireTimeout === 0) {\n          if (internals.debug) {\n            console.log('@supabase/gotrue-js: navigatorLock: not immediately available', name);\n          }\n          throw new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock \"${name}\" immediately failed`);\n        } else {\n          if (internals.debug) {\n            try {\n              const result = await globalThis.navigator.locks.query();\n              console.log('@supabase/gotrue-js: Navigator LockManager state', JSON.stringify(result, null, '  '));\n            } catch (e) {\n              console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state', e);\n            }\n          }\n          // Browser is not following the Navigator LockManager spec, it\n          // returned a null lock when we didn't use ifAvailable. So we can\n          // pretend the lock is acquired in the name of backward compatibility\n          // and user experience and just run the function.\n          console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request');\n          return await fn();\n        }\n      }\n    }));\n  }\n  const PROCESS_LOCKS = {};\n  /**\n   * Implements a global exclusive lock that works only in the current process.\n   * Useful for environments like React Native or other non-browser\n   * single-process (i.e. no concept of \"tabs\") environments.\n   *\n   * Use {@link #navigatorLock} in browser environments.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await processLock('migrate', 5000, async () => {\n   *   await runMigration()\n   * })\n   * ```\n   */\n  async function processLock(name, acquireTimeout, fn) {\n    var _a;\n    const previousOperation = (_a = PROCESS_LOCKS[name]) !== null && _a !== void 0 ? _a : Promise.resolve();\n    const currentOperation = Promise.race([previousOperation.catch(() => {\n      // ignore error of previous operation that we're waiting to finish\n      return null;\n    }), acquireTimeout >= 0 ? new Promise((_, reject) => {\n      setTimeout(() => {\n        reject(new ProcessLockAcquireTimeoutError(`Acquiring process lock with name \"${name}\" timed out`));\n      }, acquireTimeout);\n    }) : null].filter(x => x)).catch(e => {\n      if (e && e.isAcquireTimeout) {\n        throw e;\n      }\n      return null;\n    }).then(async () => {\n      // previous operations finished and we didn't get a race on the acquire\n      // timeout, so the current operation can finally start\n      return await fn();\n    });\n    PROCESS_LOCKS[name] = currentOperation.catch(async e => {\n      if (e && e.isAcquireTimeout) {\n        // if the current operation timed out, it doesn't mean that the previous\n        // operation finished, so we need contnue waiting for it to finish\n        await previousOperation;\n        return null;\n      }\n      throw e;\n    });\n    // finally wait for the current operation to finish successfully, with an\n    // error or with an acquire timeout error\n    return await currentOperation;\n  }\n});","lineCount":236,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"internals"],[10,22,5,0],[11,4,5,0],[12,2,5,0],[13,2,30,0,"Object"],[13,8,30,0],[13,9,30,0,"defineProperty"],[13,23,30,0],[13,24,30,0,"exports"],[13,31,30,0],[14,4,30,0,"enumerable"],[14,14,30,0],[15,4,30,0,"get"],[15,7,30,0],[15,18,30,0,"get"],[15,19,30,0],[16,6,30,0],[16,13,30,0,"LockAcquireTimeoutError"],[16,36,30,0],[17,4,30,0],[18,2,30,0],[19,2,46,0,"Object"],[19,8,46,0],[19,9,46,0,"defineProperty"],[19,23,46,0],[19,24,46,0,"exports"],[19,31,46,0],[20,4,46,0,"enumerable"],[20,14,46,0],[21,4,46,0,"get"],[21,7,46,0],[21,18,46,0,"get"],[21,19,46,0],[22,6,46,0],[22,13,46,0,"NavigatorLockAcquireTimeoutError"],[22,45,46,0],[23,4,46,0],[24,2,46,0],[25,2,58,0,"Object"],[25,8,58,0],[25,9,58,0,"defineProperty"],[25,23,58,0],[25,24,58,0,"exports"],[25,31,58,0],[26,4,58,0,"enumerable"],[26,14,58,0],[27,4,58,0,"get"],[27,7,58,0],[27,18,58,0,"get"],[27,19,58,0],[28,6,58,0],[28,13,58,0,"ProcessLockAcquireTimeoutError"],[28,43,58,0],[29,4,58,0],[30,2,58,0],[31,2,91,0,"exports"],[31,9,91,0],[31,10,91,0,"navigatorLock"],[31,23,91,0],[31,26,91,0,"navigatorLock"],[31,39,91,0],[32,2,182,0,"exports"],[32,9,182,0],[32,10,182,0,"processLock"],[32,21,182,0],[32,24,182,0,"processLock"],[32,35,182,0],[33,2,1,0],[33,6,1,0,"_helpers"],[33,14,1,0],[33,17,1,0,"require"],[33,24,1,0],[33,25,1,0,"_dependencyMap"],[33,39,1,0],[34,2,2,0],[35,0,3,0],[36,0,4,0],[37,2,5,7],[37,8,5,13,"internals"],[37,17,5,22],[37,20,5,25],[38,4,6,4],[39,0,7,0],[40,0,8,0],[41,4,9,4,"debug"],[41,9,9,9],[41,11,9,11],[41,12,9,12],[41,14,9,14,"globalThis"],[41,24,9,24],[41,28,10,8],[41,32,10,8,"supportsLocalStorage"],[41,40,10,28],[41,41,10,28,"supportsLocalStorage"],[41,61,10,28],[41,63,10,29],[41,64,10,30],[41,68,11,8,"globalThis"],[41,78,11,18],[41,79,11,19,"localStorage"],[41,91,11,31],[41,95,12,8,"globalThis"],[41,105,12,18],[41,106,12,19,"localStorage"],[41,118,12,31],[41,119,12,32,"getItem"],[41,126,12,39],[41,127,12,40],[41,159,12,72],[41,160,12,73],[41,165,12,78],[41,171,12,84],[42,2,13,0],[42,3,13,1],[43,2,14,0],[44,0,15,0],[45,0,16,0],[46,0,17,0],[47,0,18,0],[48,0,19,0],[49,0,20,0],[50,0,21,0],[51,0,22,0],[52,0,23,0],[53,0,24,0],[54,0,25,0],[55,0,26,0],[56,0,27,0],[57,0,28,0],[58,0,29,0],[59,2,30,7],[59,8,30,13,"LockAcquireTimeoutError"],[59,31,30,36],[59,40,30,45,"Error"],[59,45,30,50],[59,46,30,51],[60,4,31,4,"constructor"],[60,15,31,15,"constructor"],[60,16,31,16,"message"],[60,23,31,23],[60,25,31,25],[61,6,32,8],[61,11,32,13],[61,12,32,14,"message"],[61,19,32,21],[61,20,32,22],[62,6,33,8],[62,10,33,12],[62,11,33,13,"isAcquireTimeout"],[62,27,33,29],[62,30,33,32],[62,34,33,36],[63,4,34,4],[64,2,35,0],[65,2,36,0],[66,0,37,0],[67,0,38,0],[68,0,39,0],[69,0,40,0],[70,0,41,0],[71,0,42,0],[72,0,43,0],[73,0,44,0],[74,0,45,0],[75,2,46,7],[75,8,46,13,"NavigatorLockAcquireTimeoutError"],[75,40,46,45],[75,49,46,54,"LockAcquireTimeoutError"],[75,72,46,77],[75,73,46,78],[76,2,48,0],[77,0,49,0],[78,0,50,0],[79,0,51,0],[80,0,52,0],[81,0,53,0],[82,0,54,0],[83,0,55,0],[84,0,56,0],[85,0,57,0],[86,2,58,7],[86,8,58,13,"ProcessLockAcquireTimeoutError"],[86,38,58,43],[86,47,58,52,"LockAcquireTimeoutError"],[86,70,58,75],[86,71,58,76],[87,2,60,0],[88,0,61,0],[89,0,62,0],[90,0,63,0],[91,0,64,0],[92,0,65,0],[93,0,66,0],[94,0,67,0],[95,0,68,0],[96,0,69,0],[97,0,70,0],[98,0,71,0],[99,0,72,0],[100,0,73,0],[101,0,74,0],[102,0,75,0],[103,0,76,0],[104,0,77,0],[105,0,78,0],[106,0,79,0],[107,0,80,0],[108,0,81,0],[109,0,82,0],[110,0,83,0],[111,0,84,0],[112,0,85,0],[113,0,86,0],[114,0,87,0],[115,0,88,0],[116,0,89,0],[117,0,90,0],[118,2,91,7],[118,17,91,22,"navigatorLock"],[118,30,91,35,"navigatorLock"],[118,31,91,36,"name"],[118,35,91,40],[118,37,91,42,"acquireTimeout"],[118,51,91,56],[118,53,91,58,"fn"],[118,55,91,60],[118,57,91,62],[119,4,92,4],[119,8,92,8,"internals"],[119,17,92,17],[119,18,92,18,"debug"],[119,23,92,23],[119,25,92,25],[120,6,93,8,"console"],[120,13,93,15],[120,14,93,16,"log"],[120,17,93,19],[120,18,93,20],[120,68,93,70],[120,70,93,72,"name"],[120,74,93,76],[120,76,93,78,"acquireTimeout"],[120,90,93,92],[120,91,93,93],[121,4,94,4],[122,4,95,4],[122,10,95,10,"abortController"],[122,25,95,25],[122,28,95,28],[122,32,95,32,"globalThis"],[122,42,95,42],[122,43,95,43,"AbortController"],[122,58,95,58],[122,59,95,59],[122,60,95,60],[123,4,96,4],[123,8,96,8,"acquireTimeout"],[123,22,96,22],[123,25,96,25],[123,26,96,26],[123,28,96,28],[124,6,97,8,"setTimeout"],[124,16,97,18],[124,17,97,19],[124,23,97,25],[125,8,98,12,"abortController"],[125,23,98,27],[125,24,98,28,"abort"],[125,29,98,33],[125,30,98,34],[125,31,98,35],[126,8,99,12],[126,12,99,16,"internals"],[126,21,99,25],[126,22,99,26,"debug"],[126,27,99,31],[126,29,99,33],[127,10,100,16,"console"],[127,17,100,23],[127,18,100,24,"log"],[127,21,100,27],[127,22,100,28],[127,76,100,82],[127,78,100,84,"name"],[127,82,100,88],[127,83,100,89],[128,8,101,12],[129,6,102,8],[129,7,102,9],[129,9,102,11,"acquireTimeout"],[129,23,102,25],[129,24,102,26],[130,4,103,4],[131,4,104,4],[132,4,105,4],[133,4,106,4],[134,4,107,4],[135,4,108,4],[136,4,109,4],[137,4,110,4],[138,4,111,4],[139,4,112,4],[139,11,112,11],[139,17,112,17,"Promise"],[139,24,112,24],[139,25,112,25,"resolve"],[139,32,112,32],[139,33,112,33],[139,34,112,34],[139,35,112,35,"then"],[139,39,112,39],[139,40,112,40],[139,46,112,46,"globalThis"],[139,56,112,56],[139,57,112,57,"navigator"],[139,66,112,66],[139,67,112,67,"locks"],[139,72,112,72],[139,73,112,73,"request"],[139,80,112,80],[139,81,112,81,"name"],[139,85,112,85],[139,87,112,87,"acquireTimeout"],[139,101,112,101],[139,106,112,106],[139,107,112,107],[139,110,113,10],[140,6,114,12,"mode"],[140,10,114,16],[140,12,114,18],[140,23,114,29],[141,6,115,12,"ifAvailable"],[141,17,115,23],[141,19,115,25],[142,4,116,8],[142,5,116,9],[142,8,117,10],[143,6,118,12,"mode"],[143,10,118,16],[143,12,118,18],[143,23,118,29],[144,6,119,12,"signal"],[144,12,119,18],[144,14,119,20,"abortController"],[144,29,119,35],[144,30,119,36,"signal"],[145,4,120,8],[145,5,120,9],[145,7,120,11],[145,13,120,18,"lock"],[145,17,120,22],[145,21,120,27],[146,6,121,8],[146,10,121,12,"lock"],[146,14,121,16],[146,16,121,18],[147,8,122,12],[147,12,122,16,"internals"],[147,21,122,25],[147,22,122,26,"debug"],[147,27,122,31],[147,29,122,33],[148,10,123,16,"console"],[148,17,123,23],[148,18,123,24,"log"],[148,21,123,27],[148,22,123,28],[148,68,123,74],[148,70,123,76,"name"],[148,74,123,80],[148,76,123,82,"lock"],[148,80,123,86],[148,81,123,87,"name"],[148,85,123,91],[148,86,123,92],[149,8,124,12],[150,8,125,12],[150,12,125,16],[151,10,126,16],[151,17,126,23],[151,23,126,29,"fn"],[151,25,126,31],[151,26,126,32],[151,27,126,33],[152,8,127,12],[152,9,127,13],[152,18,128,20],[153,10,129,16],[153,14,129,20,"internals"],[153,23,129,29],[153,24,129,30,"debug"],[153,29,129,35],[153,31,129,37],[154,12,130,20,"console"],[154,19,130,27],[154,20,130,28,"log"],[154,23,130,31],[154,24,130,32],[154,70,130,78],[154,72,130,80,"name"],[154,76,130,84],[154,78,130,86,"lock"],[154,82,130,90],[154,83,130,91,"name"],[154,87,130,95],[154,88,130,96],[155,10,131,16],[156,8,132,12],[157,6,133,8],[157,7,133,9],[157,13,134,13],[158,8,135,12],[158,12,135,16,"acquireTimeout"],[158,26,135,30],[158,31,135,35],[158,32,135,36],[158,34,135,38],[159,10,136,16],[159,14,136,20,"internals"],[159,23,136,29],[159,24,136,30,"debug"],[159,29,136,35],[159,31,136,37],[160,12,137,20,"console"],[160,19,137,27],[160,20,137,28,"log"],[160,23,137,31],[160,24,137,32],[160,87,137,95],[160,89,137,97,"name"],[160,93,137,101],[160,94,137,102],[161,10,138,16],[162,10,139,16],[162,16,139,22],[162,20,139,26,"NavigatorLockAcquireTimeoutError"],[162,52,139,58],[162,53,139,59],[162,107,139,113,"name"],[162,111,139,117],[162,133,139,139],[162,134,139,140],[163,8,140,12],[163,9,140,13],[163,15,141,17],[164,10,142,16],[164,14,142,20,"internals"],[164,23,142,29],[164,24,142,30,"debug"],[164,29,142,35],[164,31,142,37],[165,12,143,20],[165,16,143,24],[166,14,144,24],[166,20,144,30,"result"],[166,26,144,36],[166,29,144,39],[166,35,144,45,"globalThis"],[166,45,144,55],[166,46,144,56,"navigator"],[166,55,144,65],[166,56,144,66,"locks"],[166,61,144,71],[166,62,144,72,"query"],[166,67,144,77],[166,68,144,78],[166,69,144,79],[167,14,145,24,"console"],[167,21,145,31],[167,22,145,32,"log"],[167,25,145,35],[167,26,145,36],[167,76,145,86],[167,78,145,88,"JSON"],[167,82,145,92],[167,83,145,93,"stringify"],[167,92,145,102],[167,93,145,103,"result"],[167,99,145,109],[167,101,145,111],[167,105,145,115],[167,107,145,117],[167,111,145,121],[167,112,145,122],[167,113,145,123],[168,12,146,20],[168,13,146,21],[168,14,147,20],[168,21,147,27,"e"],[168,22,147,28],[168,24,147,30],[169,14,148,24,"console"],[169,21,148,31],[169,22,148,32,"warn"],[169,26,148,36],[169,27,148,37],[169,97,148,107],[169,99,148,109,"e"],[169,100,148,110],[169,101,148,111],[170,12,149,20],[171,10,150,16],[172,10,151,16],[173,10,152,16],[174,10,153,16],[175,10,154,16],[176,10,155,16,"console"],[176,17,155,23],[176,18,155,24,"warn"],[176,22,155,28],[176,23,155,29],[176,272,155,278],[176,273,155,279],[177,10,156,16],[177,17,156,23],[177,23,156,29,"fn"],[177,25,156,31],[177,26,156,32],[177,27,156,33],[178,8,157,12],[179,6,158,8],[180,4,159,4],[180,5,159,5],[180,6,159,6],[180,7,159,7],[181,2,160,0],[182,2,161,0],[182,8,161,6,"PROCESS_LOCKS"],[182,21,161,19],[182,24,161,22],[182,25,161,23],[182,26,161,24],[183,2,162,0],[184,0,163,0],[185,0,164,0],[186,0,165,0],[187,0,166,0],[188,0,167,0],[189,0,168,0],[190,0,169,0],[191,0,170,0],[192,0,171,0],[193,0,172,0],[194,0,173,0],[195,0,174,0],[196,0,175,0],[197,0,176,0],[198,0,177,0],[199,0,178,0],[200,0,179,0],[201,0,180,0],[202,0,181,0],[203,2,182,7],[203,17,182,22,"processLock"],[203,28,182,33,"processLock"],[203,29,182,34,"name"],[203,33,182,38],[203,35,182,40,"acquireTimeout"],[203,49,182,54],[203,51,182,56,"fn"],[203,53,182,58],[203,55,182,60],[204,4,183,4],[204,8,183,8,"_a"],[204,10,183,10],[205,4,184,4],[205,10,184,10,"previousOperation"],[205,27,184,27],[205,30,184,30],[205,31,184,31,"_a"],[205,33,184,33],[205,36,184,36,"PROCESS_LOCKS"],[205,49,184,49],[205,50,184,50,"name"],[205,54,184,54],[205,55,184,55],[205,61,184,61],[205,65,184,65],[205,69,184,69,"_a"],[205,71,184,71],[205,76,184,76],[205,81,184,81],[205,82,184,82],[205,85,184,85,"_a"],[205,87,184,87],[205,90,184,90,"Promise"],[205,97,184,97],[205,98,184,98,"resolve"],[205,105,184,105],[205,106,184,106],[205,107,184,107],[206,4,185,4],[206,10,185,10,"currentOperation"],[206,26,185,26],[206,29,185,29,"Promise"],[206,36,185,36],[206,37,185,37,"race"],[206,41,185,41],[206,42,185,42],[206,43,186,8,"previousOperation"],[206,60,186,25],[206,61,186,26,"catch"],[206,66,186,31],[206,67,186,32],[206,73,186,38],[207,6,187,12],[208,6,188,12],[208,13,188,19],[208,17,188,23],[209,4,189,8],[209,5,189,9],[209,6,189,10],[209,8,190,8,"acquireTimeout"],[209,22,190,22],[209,26,190,26],[209,27,190,27],[209,30,191,14],[209,34,191,18,"Promise"],[209,41,191,25],[209,42,191,26],[209,43,191,27,"_"],[209,44,191,28],[209,46,191,30,"reject"],[209,52,191,36],[209,57,191,41],[210,6,192,16,"setTimeout"],[210,16,192,26],[210,17,192,27],[210,23,192,33],[211,8,193,20,"reject"],[211,14,193,26],[211,15,193,27],[211,19,193,31,"ProcessLockAcquireTimeoutError"],[211,49,193,61],[211,50,193,62],[211,87,193,99,"name"],[211,91,193,103],[211,104,193,116],[211,105,193,117],[211,106,193,118],[212,6,194,16],[212,7,194,17],[212,9,194,19,"acquireTimeout"],[212,23,194,33],[212,24,194,34],[213,4,195,12],[213,5,195,13],[213,6,195,14],[213,9,196,14],[213,13,196,18],[213,14,197,5],[213,15,197,6,"filter"],[213,21,197,12],[213,22,197,14,"x"],[213,23,197,15],[213,27,197,20,"x"],[213,28,197,21],[213,29,197,22],[213,30,197,23],[213,31,198,9,"catch"],[213,36,198,14],[213,37,198,16,"e"],[213,38,198,17],[213,42,198,22],[214,6,199,8],[214,10,199,12,"e"],[214,11,199,13],[214,15,199,17,"e"],[214,16,199,18],[214,17,199,19,"isAcquireTimeout"],[214,33,199,35],[214,35,199,37],[215,8,200,12],[215,14,200,18,"e"],[215,15,200,19],[216,6,201,8],[217,6,202,8],[217,13,202,15],[217,17,202,19],[218,4,203,4],[218,5,203,5],[218,6,203,6],[218,7,204,9,"then"],[218,11,204,13],[218,12,204,14],[218,24,204,26],[219,6,205,8],[220,6,206,8],[221,6,207,8],[221,13,207,15],[221,19,207,21,"fn"],[221,21,207,23],[221,22,207,24],[221,23,207,25],[222,4,208,4],[222,5,208,5],[222,6,208,6],[223,4,209,4,"PROCESS_LOCKS"],[223,17,209,17],[223,18,209,18,"name"],[223,22,209,22],[223,23,209,23],[223,26,209,26,"currentOperation"],[223,42,209,42],[223,43,209,43,"catch"],[223,48,209,48],[223,49,209,49],[223,55,209,56,"e"],[223,56,209,57],[223,60,209,62],[224,6,210,8],[224,10,210,12,"e"],[224,11,210,13],[224,15,210,17,"e"],[224,16,210,18],[224,17,210,19,"isAcquireTimeout"],[224,33,210,35],[224,35,210,37],[225,8,211,12],[226,8,212,12],[227,8,213,12],[227,14,213,18,"previousOperation"],[227,31,213,35],[228,8,214,12],[228,15,214,19],[228,19,214,23],[229,6,215,8],[230,6,216,8],[230,12,216,14,"e"],[230,13,216,15],[231,4,217,4],[231,5,217,5],[231,6,217,6],[232,4,218,4],[233,4,219,4],[234,4,220,4],[234,11,220,11],[234,17,220,17,"currentOperation"],[234,33,220,33],[235,2,221,0],[236,0,221,1],[236,3]],"functionMap":{"names":["<global>","LockAcquireTimeoutError","LockAcquireTimeoutError#constructor","NavigatorLockAcquireTimeoutError","ProcessLockAcquireTimeoutError","navigatorLock","setTimeout$argument_0","Promise.resolve.then$argument_0","globalThis.navigator.locks.request$argument_2","processLock","previousOperation._catch$argument_0","Promise$argument_0","filter$argument_0","Promise.race._catch$argument_0","Promise.race._catch.then$argument_0","currentOperation._catch$argument_0"],"mappings":"AAA;OC6B;ICC;KDG;CDC;OGW;CHC;OIW;CJC;OKgC;mBCM;SDK;wCEU;WCQ;KDuC,CF;CLC;OSsB;gCCI;SDG;0BEE;2BLC;iBKE;aFC;aGE,QH;eIC;KJK;cKC;KLI;iDMC;KNQ;CTI"},"hasCjsExports":false},"type":"js/module"}]}