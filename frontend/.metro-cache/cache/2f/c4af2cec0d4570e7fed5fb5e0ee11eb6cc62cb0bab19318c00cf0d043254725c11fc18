{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./ImageManipulator.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":116},"end":{"line":4,"column":88,"index":204}}],"key":"T6y/NYMlBGi0asFDc4kC629pCOk=","exportNames":["*"],"imports":1}},{"name":"./NativeImageManipulatorModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":274},"end":{"line":6,"column":66,"index":340}}],"key":"8Y+B1GFyVeLfCjgVr/eyqjz4W8I=","exportNames":["*"],"imports":1}},{"name":"./validators","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":341},"end":{"line":7,"column":49,"index":390}}],"key":"1gp1aMKVyl2/9IK6VJGjIeJ+hoU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"format\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.manipulateAsync = manipulateAsync;\n  exports.useImageManipulator = useImageManipulator;\n  Object.defineProperty(exports, \"ImageManipulator\", {\n    enumerable: true,\n    get: function () {\n      return ExpoImageManipulator.default;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _ImageManipulatorTypes = require(_dependencyMap[2], \"./ImageManipulator.types\");\n  var _NativeImageManipulatorModule = require(_dependencyMap[3], \"./NativeImageManipulatorModule\");\n  var ExpoImageManipulator = _interopDefault(_NativeImageManipulatorModule);\n  var _validators = require(_dependencyMap[4], \"./validators\");\n  // @needsAudit\n  /**\n   * Manipulate the image provided via `uri`. Available modifications are rotating, flipping (mirroring),\n   * resizing and cropping. Each invocation results in a new file. With one invocation you can provide\n   * a set of actions to perform over the image. Overwriting the source file would not have an effect\n   * in displaying the result as images are cached.\n   * @param uri URI of the file to manipulate. Should be on the local file system or a base64 data URI.\n   * @param actions An array of objects representing manipulation options. Each object should have\n   * __only one__ of the keys that corresponds to specific transformation.\n   * @param saveOptions A map defining how modified image should be saved.\n   * @return Promise which fulfils with [`ImageResult`](#imageresult) object.\n   * @deprecated It has been replaced by the new, contextual and object-oriented API.\n   * Use [`ImageManipulator.manipulate`](#manipulatesource) or [`useImageManipulator`](#useimagemanipulatorsource) instead.\n   */\n  async function manipulateAsync(uri, actions = [], saveOptions = {}) {\n    (0, _validators.validateArguments)(uri, actions, saveOptions);\n    const {\n        format = _ImageManipulatorTypes.SaveFormat.JPEG\n      } = saveOptions,\n      rest = (0, _objectWithoutPropertiesLoose.default)(saveOptions, _excluded);\n    const context = ExpoImageManipulator.default.manipulate(uri);\n    for (const action of actions) {\n      if ('resize' in action) {\n        context.resize(action.resize);\n      } else if ('rotate' in action) {\n        context.rotate(action.rotate);\n      } else if ('flip' in action) {\n        context.flip(action.flip);\n      } else if ('crop' in action) {\n        context.crop(action.crop);\n      } else if ('extent' in action && context.extent) {\n        context.extent(action.extent);\n      }\n    }\n    const image = await context.renderAsync();\n    const result = await image.saveAsync(Object.assign({\n      format\n    }, rest));\n\n    // These shared objects will not be used anymore, so free up some memory.\n    context.release();\n    image.release();\n    return result;\n  }\n  function useImageManipulator(source) {\n    return (0, _expoModulesCore.useReleasingSharedObject)(() => ExpoImageManipulator.default.manipulate(source), [source]);\n  }\n});","lineCount":75,"map":[[13,2,23,0,"exports"],[13,9,23,0],[13,10,23,0,"manipulateAsync"],[13,25,23,0],[13,28,23,0,"manipulateAsync"],[13,43,23,0],[14,2,56,0,"exports"],[14,9,56,0],[14,10,56,0,"useImageManipulator"],[14,29,56,0],[14,32,56,0,"useImageManipulator"],[14,51,56,0],[15,2,60,0,"Object"],[15,8,60,0],[15,9,60,0,"defineProperty"],[15,23,60,0],[15,24,60,0,"exports"],[15,31,60,0],[16,4,60,0,"enumerable"],[16,14,60,0],[17,4,60,0,"get"],[17,7,60,0],[17,18,60,0,"get"],[17,19,60,0],[18,6,60,0],[18,13,60,9,"ExpoImageManipulator"],[18,33,60,29],[18,34,60,29,"default"],[18,41,60,29],[19,4,60,29],[20,2,60,29],[21,2,60,52],[21,6,60,52,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[21,54,60,52],[21,57,60,52,"require"],[21,64,60,52],[21,65,60,52,"_dependencyMap"],[21,79,60,52],[22,2,60,52],[22,6,60,52,"_objectWithoutPropertiesLoose"],[22,35,60,52],[22,38,60,52,"_interopDefault"],[22,53,60,52],[22,54,60,52,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[22,102,60,52],[23,2,1,0],[23,6,1,0,"_expoModulesCore"],[23,22,1,0],[23,25,1,0,"require"],[23,32,1,0],[23,33,1,0,"_dependencyMap"],[23,47,1,0],[24,2,4,0],[24,6,4,0,"_ImageManipulatorTypes"],[24,28,4,0],[24,31,4,0,"require"],[24,38,4,0],[24,39,4,0,"_dependencyMap"],[24,53,4,0],[25,2,6,0],[25,6,6,0,"_NativeImageManipulatorModule"],[25,35,6,0],[25,38,6,0,"require"],[25,45,6,0],[25,46,6,0,"_dependencyMap"],[25,60,6,0],[26,2,6,0],[26,6,6,0,"ExpoImageManipulator"],[26,26,6,0],[26,29,6,0,"_interopDefault"],[26,44,6,0],[26,45,6,0,"_NativeImageManipulatorModule"],[26,74,6,0],[27,2,7,0],[27,6,7,0,"_validators"],[27,17,7,0],[27,20,7,0,"require"],[27,27,7,0],[27,28,7,0,"_dependencyMap"],[27,42,7,0],[28,2,9,0],[29,2,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[33,0,14,0],[34,0,15,0],[35,0,16,0],[36,0,17,0],[37,0,18,0],[38,0,19,0],[39,0,20,0],[40,0,21,0],[41,0,22,0],[42,2,23,7],[42,17,23,22,"manipulateAsync"],[42,32,23,37,"manipulateAsync"],[42,33,24,2,"uri"],[42,36,24,13],[42,38,25,2,"actions"],[42,45,25,19],[42,48,25,22],[42,50,25,24],[42,52,26,2,"saveOptions"],[42,63,26,26],[42,66,26,29],[42,67,26,30],[42,68,26,31],[42,70,27,24],[43,4,28,2],[43,8,28,2,"validateArguments"],[43,19,28,19],[43,20,28,19,"validateArguments"],[43,37,28,19],[43,39,28,20,"uri"],[43,42,28,23],[43,44,28,25,"actions"],[43,51,28,32],[43,53,28,34,"saveOptions"],[43,64,28,45],[43,65,28,46],[44,4,30,2],[44,10,30,8],[45,8,30,10,"format"],[45,14,30,16],[45,17,30,19,"SaveFormat"],[45,39,30,29],[45,40,30,29,"SaveFormat"],[45,50,30,29],[45,51,30,30,"JPEG"],[46,6,30,44],[46,7,30,45],[46,10,30,48,"saveOptions"],[46,21,30,59],[47,6,30,39,"rest"],[47,10,30,43],[47,17,30,43,"_objectWithoutPropertiesLoose"],[47,46,30,43],[47,47,30,43,"default"],[47,54,30,43],[47,56,30,48,"saveOptions"],[47,67,30,59],[47,69,30,59,"_excluded"],[47,78,30,59],[48,4,31,2],[48,10,31,8,"context"],[48,17,31,15],[48,20,31,18,"ExpoImageManipulator"],[48,40,31,38],[48,41,31,38,"default"],[48,48,31,38],[48,49,31,39,"manipulate"],[48,59,31,49],[48,60,31,50,"uri"],[48,63,31,53],[48,64,31,54],[49,4,33,2],[49,9,33,7],[49,15,33,13,"action"],[49,21,33,19],[49,25,33,23,"actions"],[49,32,33,30],[49,34,33,32],[50,6,34,4],[50,10,34,8],[50,18,34,16],[50,22,34,20,"action"],[50,28,34,26],[50,30,34,28],[51,8,35,6,"context"],[51,15,35,13],[51,16,35,14,"resize"],[51,22,35,20],[51,23,35,21,"action"],[51,29,35,27],[51,30,35,28,"resize"],[51,36,35,34],[51,37,35,35],[52,6,36,4],[52,7,36,5],[52,13,36,11],[52,17,36,15],[52,25,36,23],[52,29,36,27,"action"],[52,35,36,33],[52,37,36,35],[53,8,37,6,"context"],[53,15,37,13],[53,16,37,14,"rotate"],[53,22,37,20],[53,23,37,21,"action"],[53,29,37,27],[53,30,37,28,"rotate"],[53,36,37,34],[53,37,37,35],[54,6,38,4],[54,7,38,5],[54,13,38,11],[54,17,38,15],[54,23,38,21],[54,27,38,25,"action"],[54,33,38,31],[54,35,38,33],[55,8,39,6,"context"],[55,15,39,13],[55,16,39,14,"flip"],[55,20,39,18],[55,21,39,19,"action"],[55,27,39,25],[55,28,39,26,"flip"],[55,32,39,30],[55,33,39,31],[56,6,40,4],[56,7,40,5],[56,13,40,11],[56,17,40,15],[56,23,40,21],[56,27,40,25,"action"],[56,33,40,31],[56,35,40,33],[57,8,41,6,"context"],[57,15,41,13],[57,16,41,14,"crop"],[57,20,41,18],[57,21,41,19,"action"],[57,27,41,25],[57,28,41,26,"crop"],[57,32,41,30],[57,33,41,31],[58,6,42,4],[58,7,42,5],[58,13,42,11],[58,17,42,15],[58,25,42,23],[58,29,42,27,"action"],[58,35,42,33],[58,39,42,37,"context"],[58,46,42,44],[58,47,42,45,"extent"],[58,53,42,51],[58,55,42,53],[59,8,43,6,"context"],[59,15,43,13],[59,16,43,14,"extent"],[59,22,43,20],[59,23,43,21,"action"],[59,29,43,27],[59,30,43,28,"extent"],[59,36,43,34],[59,37,43,35],[60,6,44,4],[61,4,45,2],[62,4,46,2],[62,10,46,8,"image"],[62,15,46,13],[62,18,46,16],[62,24,46,22,"context"],[62,31,46,29],[62,32,46,30,"renderAsync"],[62,43,46,41],[62,44,46,42],[62,45,46,43],[63,4,47,2],[63,10,47,8,"result"],[63,16,47,14],[63,19,47,17],[63,25,47,23,"image"],[63,30,47,28],[63,31,47,29,"saveAsync"],[63,40,47,38],[63,41,47,38,"Object"],[63,47,47,38],[63,48,47,38,"assign"],[63,54,47,38],[64,6,47,41,"format"],[65,4,47,47],[65,7,47,52,"rest"],[65,11,47,56],[65,12,47,58],[65,13,47,59],[67,4,49,2],[68,4,50,2,"context"],[68,11,50,9],[68,12,50,10,"release"],[68,19,50,17],[68,20,50,18],[68,21,50,19],[69,4,51,2,"image"],[69,9,51,7],[69,10,51,8,"release"],[69,17,51,15],[69,18,51,16],[69,19,51,17],[70,4,53,2],[70,11,53,9,"result"],[70,17,53,15],[71,2,54,0],[72,2,56,7],[72,11,56,16,"useImageManipulator"],[72,30,56,35,"useImageManipulator"],[72,31,56,36,"source"],[72,37,56,71],[72,39,56,98],[73,4,57,2],[73,11,57,9],[73,15,57,9,"useReleasingSharedObject"],[73,31,57,33],[73,32,57,33,"useReleasingSharedObject"],[73,56,57,33],[73,58,57,34],[73,64,57,40,"ExpoImageManipulator"],[73,84,57,60],[73,85,57,60,"default"],[73,92,57,60],[73,93,57,61,"manipulate"],[73,103,57,71],[73,104,57,72,"source"],[73,110,57,78],[73,111,57,79],[73,113,57,81],[73,114,57,82,"source"],[73,120,57,88],[73,121,57,89],[73,122,57,90],[74,2,58,0],[75,0,58,1],[75,3]],"functionMap":{"names":["<global>","manipulateAsync","useImageManipulator","useReleasingSharedObject$argument_0"],"mappings":"AAA;OCsB;CD+B;OEE;kCCC,6CD;CFC"},"hasCjsExports":false},"type":"js/module"}]}